# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å –ª–µ–≥–µ–Ω–¥–æ–π –ø–æ—Ä—Ç—Ñ–µ–ª—è

## –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2025-01-27

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π –≤ –ª–µ–≥–µ–Ω–¥–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –í –ª–µ–≥–µ–Ω–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (fontsize, frameon) –≤–º–µ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–π –∞–∫—Ç–∏–≤–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ `ax.legend(chart_styles.legend_config)` –≤–º–µ—Å—Ç–æ `ax.legend(**chart_styles.legend_config)`

### 2. –ù–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞**: –õ–∏–Ω–∏–∏ –Ω–∞–∑—ã–≤–∞–ª–∏—Å—å –ø—Ä–æ—Å—Ç–æ "–ü–æ—Ä—Ç—Ñ–µ–ª—å" –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞**: –°—Ç–∞—Ç–∏—á–Ω—ã–µ –ª–µ–π–±–ª—ã –≤–º–µ—Å—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∞–∫—Ç–∏–≤–æ–≤

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ –ª–µ–≥–µ–Ω–¥—ã

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 1439

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
```python
# ‚ùå –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
ax.legend(chart_styles.legend_config)

# ‚úÖ –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
ax.legend(**chart_styles.legend_config)
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**:
- `**chart_styles.legend_config` —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- `chart_styles.legend_config` –ø–µ—Ä–µ–¥–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –ª–∏–Ω–∏–π

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 1415-1425

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
```python
# ‚ùå –ë—ã–ª–æ (–Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ)
chart_styles.plot_smooth_line(ax, x_data, y_portfolio, color='#2E5BBA', label='–ü–æ—Ä—Ç—Ñ–µ–ª—å')
chart_styles.plot_smooth_line(ax, x_data, y_data, color='#2E5BBA', label='–ü–æ—Ä—Ç—Ñ–µ–ª—å')

# ‚úÖ –°—Ç–∞–ª–æ (–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ)
chart_styles.plot_smooth_line(ax, x_data, y_portfolio, color='#2E5BBA', label=f'–ü–æ—Ä—Ç—Ñ–µ–ª—å ({", ".join(symbols)})')
chart_styles.plot_smooth_line(ax, x_data, y_data, color='#2E5BBA', label=f'–ü–æ—Ä—Ç—Ñ–µ–ª—å ({", ".join(symbols)})')
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –í–º–µ—Å—Ç–æ "–ü–æ—Ä—Ç—Ñ–µ–ª—å" —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–ü–æ—Ä—Ç—Ñ–µ–ª—å (SBER.MOEX, GAZP.MOEX, LKOH.MOEX)"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç, –∫–∞–∫–∏–µ –∞–∫—Ç–∏–≤—ã –≤—Ö–æ–¥—è—Ç –≤ –ø–æ—Ä—Ç—Ñ–µ–ª—å

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–µ–≥–µ–Ω–¥—ã
```python
# chart_styles.legend_config —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–∞—Ä—å —Ç–∏–ø–∞:
legend_config = {
    'fontsize': 12,
    'frameon': True,
    'loc': 'upper left',
    # ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
}

# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤:
ax.legend(**chart_styles.legend_config)
# –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
ax.legend(fontsize=12, frameon=True, loc='upper left', ...)

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤:
ax.legend(chart_styles.legend_config)
# –ü–µ—Ä–µ–¥–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –∫–∞–∫ –µ–¥–∏–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ª–µ–π–±–ª—ã
```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –ª–µ–π–±–ª–∞
symbols = ['SBER.MOEX', 'GAZP.MOEX', 'LKOH.MOEX']
label = f'–ü–æ—Ä—Ç—Ñ–µ–ª—å ({", ".join(symbols)})'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü–æ—Ä—Ç—Ñ–µ–ª—å (SBER.MOEX, GAZP.MOEX, LKOH.MOEX)"
```

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–õ–µ–≥–µ–Ω–¥–∞**: –û—à–∏–±–∫–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (fontsize, frameon)
- **–ù–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π**: –ü—Ä–æ—Å—Ç–æ "–ü–æ—Ä—Ç—Ñ–µ–ª—å"
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ–ø–æ–Ω—è—Ç–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- **–õ–µ–≥–µ–Ω–¥–∞**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **–ù–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π**: "–ü–æ—Ä—Ç—Ñ–µ–ª—å (SBER.MOEX, GAZP.MOEX, LKOH.MOEX)"
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–Ω—è—Ç–Ω—ã–π –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### 1. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ª–µ–≥–µ–Ω–¥—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–∑–∞–π–Ω—É –¥—Ä—É–≥–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤

### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–æ—Å—Ç–∞–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- ‚úÖ –õ–µ–≥–∫–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ª–∏–Ω–∏–∏
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥

### 3. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- ‚úÖ –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å –¥—Ä—É–≥–∏–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ chart_styles
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### 1. –ö–æ–º–ø–∏–ª—è—Ü–∏—è
```bash
python3 -m py_compile bot.py
```
‚úÖ –§–∞–π–ª –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–µ–≥–µ–Ω–¥—ã
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π

### 3. –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- –õ–µ–≥–µ–Ω–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–∏–º–≤–æ–ª—ã –∞–∫—Ç–∏–≤–æ–≤
- –ì—Ä–∞—Ñ–∏–∫ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –±—É–¥—É—â–µ–º

### 1. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –ª–µ–≥–µ–Ω–¥–µ
```python
label = f'–ü–æ—Ä—Ç—Ñ–µ–ª—å ({", ".join(symbols)}) - {sum(weights):.1%}'
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ü–æ—Ä—Ç—Ñ–µ–ª—å (SBER.MOEX, GAZP.MOEX, LKOH.MOEX) - 100.0%"
```

### 2. –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞
- –†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤
- –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –≤–µ—Å–∞–º
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ª–µ–≥–µ–Ω–¥–∞

### 3. –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–≥–∏–æ–Ω

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ª–µ–≥–µ–Ω–¥–æ–π –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –ª–∏–Ω–∏–π –≤ –≥—Ä–∞—Ñ–∏–∫–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è:

1. **‚úÖ –õ–µ–≥–µ–Ω–¥–∞**: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `**chart_styles.legend_config`
2. **‚úÖ –ù–∞–∑–≤–∞–Ω–∏—è –ª–∏–Ω–∏–π**: –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –ª–µ–π–±–ª—ã —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –∞–∫—Ç–∏–≤–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç**:
- –ì—Ä–∞—Ñ–∏–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –õ–µ–≥–µ–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–æ—Å—Ç–∞–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –ª–∏–Ω–∏–π
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥

–¢–µ–ø–µ—Ä—å –≥—Ä–∞—Ñ–∏–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–µ–Ω! üéØ
