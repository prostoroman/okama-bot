# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã /namespace

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ–º–∞–Ω–¥–∞ `/namespace` –≤—ã–¥–∞–≤–∞–ª–∞ –æ—à–∏–±–∫—É:
```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è 'CBR': The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
```

## –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
–§—É–Ω–∫—Ü–∏—è `ok.symbols_in_namespace()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç pandas DataFrame, –∞ –Ω–µ —Å–ø–∏—Å–æ–∫. –ö–æ–¥ –ø—ã—Ç–∞–ª—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å DataFrame –∫–∞–∫ –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç pandas
```python
import pandas as pd
```

### 2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ DataFrame
```python
# –ë—ã–ª–æ:
if not symbols:
    # –û—à–∏–±–∫–∞!

# –°—Ç–∞–ª–æ:
if symbols_df.empty:
    # –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
```

### 3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∏–∫–µ—Ä–æ–≤ –∏–∑ –ø–æ–ª–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
DataFrame —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–æ–Ω–∫—É 'symbol' —Å –ø–æ–ª–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'AAPL.US', 'SBER.MOEX'). –ö–æ–¥ —Ç–µ–ø–µ—Ä—å –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–∏–∫–µ—Ä (—á–∞—Å—Ç—å –¥–æ —Ç–æ—á–∫–∏):

```python
# –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–∏–∫–µ—Ä –∏–∑ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è
if '.' in symbol_str:
    ticker = symbol_str.split('.')[0]
    symbols.append(ticker)
else:
    symbols.append(symbol_str)
```

### 4. –î–µ—Ç–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
- –í—ã–≤–æ–¥–∏—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: –°–∏–º–≤–æ–ª | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç—Ä–∞–Ω–∞ | –í–∞–ª—é—Ç–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —Å–∏–º–≤–æ–ª–µ
- –î–ª–∏–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –∏ NaN –∑–Ω–∞—á–µ–Ω–∏–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö okama

### DataFrame columns:
- `symbol` - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'AAPL.US')
- `ticker` - —Ç–∏–∫–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'AAPL')
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–∞
- `country` - —Å—Ç—Ä–∞–Ω–∞
- `exchange` - –±–∏—Ä–∂–∞
- `currency` - –≤–∞–ª—é—Ç–∞
- `type` - —Ç–∏–ø –∞–∫—Ç–∏–≤–∞
- `isin` - ISIN –∫–æ–¥

### –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö:
```
CBR namespace:
- symbol: 'AEDRUB.CBR' ‚Üí ticker: 'AEDRUB'
- symbol: 'AFNRUB.CBR' ‚Üí ticker: 'AFNRUB'

MOEX namespace:
- symbol: 'ABIO.MOEX' ‚Üí ticker: 'ABIO'
- symbol: 'SBER.MOEX' ‚Üí ticker: 'SBER'

INDX namespace:
- symbol: '000906.INDX' ‚Üí ticker: '000906'
- symbol: 'ADVA.INDX' ‚Üí ticker: 'ADVA'
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/namespace CBR` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:
```
üìä –°–∏–º–≤–æ–ª—ã –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ CBR:

**–°–∏–º–≤–æ–ª | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç—Ä–∞–Ω–∞ | –í–∞–ª—é—Ç–∞**
--- | --- | --- | ---
`AEDRUB.CBR` | Central Bank of Russia exchange rate... | Russia | RUB
`AFNRUB.CBR` | Central Bank of Russia exchange rate... | Russia | RUB
`ALLRUB.CBR` | Central Bank of Russia exchange rate... | Russia | RUB
`AMDRUB.CBR` | Central Bank of Russia exchange rate... | Russia | RUB
`AOARUB.CBR` | Central Bank of Russia exchange rate... | Russia | RUB
...

üìà –í—Å–µ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤: 286
```

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/namespace MOEX` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç:
```
üìä –°–∏–º–≤–æ–ª—ã –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ MOEX:

**–°–∏–º–≤–æ–ª | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç—Ä–∞–Ω–∞ | –í–∞–ª—é—Ç–∞**
--- | --- | --- | ---
`ABIO.MOEX` | ARTGEN | Russia | RUB
`ABRD.MOEX` | Abrau Durso OAO | Russia | RUB
`ACKO.MOEX` | Public joint-stock company Asko-Strak... | Russia | RUB
`AFKS.MOEX` | AFK Sistema | Russia | RUB
`AFLT.MOEX` | Aeroflot | Russia | RUB
...

üìà –í—Å–µ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤: 334
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π DataFrame —á–µ—Ä–µ–∑ `.empty`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ NaN –∏ None –∑–Ω–∞—á–µ–Ω–∏–π
- Fallback –Ω–∞ —Ä–∞–∑–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ DataFrame

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ namespace okama
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
- Graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã:
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–¥–∞ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ò–º–ø–æ—Ä—Ç –∫–ª–∞—Å—Å–∞ –±–æ—Ç–∞
- ‚úÖ –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–∏–∫–µ—Ä–æ–≤
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ DataFrame
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ namespace

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ö–æ–º–∞–Ω–¥–∞ `/namespace` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ –≤—Å–µ–º–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º–∏ –∏–º–µ–Ω okama –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–∏—Ç–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É.
