# Markdown Support Report

## –ó–∞–¥–∞—á–∞

**–î–∞—Ç–∞:** 2025-01-27  
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å `parse_mode='Markdown'` –∫ –≤—ã–≤–æ–¥—É —Ç–∞–±–ª–∏—Ü –æ–±—ã—á–Ω—ã—Ö –∏ –∫–∏—Ç–∞–π—Å–∫–∏—Ö –±–∏—Ä–∂ –≤ –∫–æ–º–∞–Ω–¥–µ `/list`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## –ü—Ä–æ–±–ª–µ–º–∞

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
- –ù–µ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `parse_mode='Markdown'`
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ callback —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è parse_mode
- –¢–∞–±–ª–∏—Ü—ã –º–æ–≥–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ Telegram –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ Markdown

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å `parse_mode='Markdown'` –∫–æ –≤—Å–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è–º —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ Telegram
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

## –†–µ—à–µ–Ω–∏–µ

### ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω `parse_mode='Markdown'` –∫–æ –≤—Å–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è–º:**

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–ö–∏—Ç–∞–π—Å–∫–∏–µ –±–∏—Ä–∂–∏ - callback —Å–æ–æ–±—â–µ–Ω–∏—è:**
```python
# Before
await context.bot.send_message(
    chat_id=update.callback_query.message.chat_id,
    text=response,
    reply_markup=reply_markup
)

# After
await context.bot.send_message(
    chat_id=update.callback_query.message.chat_id,
    text=response,
    parse_mode='Markdown',
    reply_markup=reply_markup
)
```

2. **–û–±—ã—á–Ω—ã–µ –±–∏—Ä–∂–∏ - callback —Å–æ–æ–±—â–µ–Ω–∏—è:**
```python
# Before
await context.bot.send_message(
    chat_id=update.callback_query.message.chat_id,
    text=response,
    reply_markup=reply_markup
)

# After
await context.bot.send_message(
    chat_id=update.callback_query.message.chat_id,
    text=response,
    parse_mode='Markdown',
    reply_markup=reply_markup
)
```

3. **–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö - callback:**
```python
# Before
await context.bot.send_message(
    chat_id=update.callback_query.message.chat_id,
    text=error_msg
)

# After
await context.bot.send_message(
    chat_id=update.callback_query.message.chat_id,
    text=error_msg,
    parse_mode='Markdown'
)
```

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏:**

**–£–∂–µ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ú–µ—Ç–æ–¥ `_send_message_safe` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `parse_mode='Markdown'` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `tabulate.tabulate(tablefmt="pipe")` –¥–ª—è Markdown
- –°–∏–º–≤–æ–ª—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è —Å –æ–±—Ä–∞—Ç–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏: `\`SYMBOL\``

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ **–£–ª—É—á—à–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Telegram
- Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- –°–∏–º–≤–æ–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–¥ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –¢–∞–±–ª–∏—Ü—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ **–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

**–ö–∏—Ç–∞–π—Å–∫–∏–µ –±–∏—Ä–∂–∏:**
```
üìä –ë–∏—Ä–∂–∞: Shanghai Stock Exchange

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚Ä¢ –í—Å–µ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤: 1,234
‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞—é: 20

üìã –ü–µ—Ä–≤—ã–µ 20 —Å–∏–º–≤–æ–ª–æ–≤:

| –°–∏–º–≤–æ–ª      | –ù–∞–∑–≤–∞–Ω–∏–µ                                                 |
|:------------|:---------------------------------------------------------|
| `000001.SZ` | Ping An Bank Co Ltd (Âπ≥ÂÆâÈì∂Ë°åËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏)                         |
| `000002.SZ` | China Vanke Co Ltd (‰∏≠ÂõΩ‰∏áÁßëËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏)                          |
```

**–û–±—ã—á–Ω—ã–µ –±–∏—Ä–∂–∏:**
```
üìä –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω: MOEX

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
‚Ä¢ –í—Å–µ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤: 234
‚Ä¢ –ö–æ–ª–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö: symbol, name, country, currency

üìã –ü–æ–∫–∞–∑—ã–≤–∞—é –ø–µ—Ä–≤—ã–µ 30:

| –°–∏–º–≤–æ–ª      | –ù–∞–∞–∑–≤–∞–Ω–∏–µ                                      |
|:------------|:----------------------------------------------|
| `SBER.MOEX` | Sberbank of Russia Public Joint Stock Company |
| `GAZP.MOEX` | Gazprom Public Joint Stock Company            |
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ **–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:**
- `scripts/test_markdown_support.py` - –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Markdown pipe —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –°–∏–º–≤–æ–ª—ã: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å –æ–±—Ä–∞—Ç–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: –†–∞–±–æ—Ç–∞–µ—Ç —Å Telegram Markdown
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: `parse_mode='Markdown'` –≤–µ–∑–¥–µ
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `bot.py` - –¥–æ–±–∞–≤–ª–µ–Ω `parse_mode='Markdown'` –∫–æ –≤—Å–µ–º callback —Å–æ–æ–±—â–µ–Ω–∏—è–º
- `scripts/test_markdown_support.py` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

### **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Excel —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- ‚úÖ Callback —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ TABULATE —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ

### **Markdown —ç–ª–µ–º–µ–Ω—Ç—ã:**
- `|` - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ç–∞–±–ª–∏—Ü
- `:` - –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- `-` - –≥—Ä–∞–Ω–∏—Ü—ã —Ç–∞–±–ª–∏—Ü
- `` ` `` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ –∫–∞–∫ –∫–æ–¥
- `*` - –∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `parse_mode='Markdown'` –∫–æ –≤—Å–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è–º —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
- ‚úÖ –û–±–µ—Å–ø–µ—á–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ Telegram
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–æ Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞—é—Ç:**
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Telegram
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –ö—Ä–∞—Å–∏–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö–æ–º–º–∏—Ç:** –ì–æ—Ç–æ–≤ –∫ –∫–æ–º–º–∏—Ç—É - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
