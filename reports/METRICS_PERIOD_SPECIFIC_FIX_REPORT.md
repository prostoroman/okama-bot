# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –º–µ—Ç—Ä–∏–∫ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º –≤ –∫–æ–º–∞–Ω–¥–µ /info

## –ü—Ä–æ–±–ª–µ–º–∞

–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–º–µ—Ç—Ä–∏–∫–∏) –≤ –∫–æ–º–∞–Ω–¥–µ `/info` –Ω–µ –æ—Ç–ª–∏—á–∞–ª–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤:
- **1 –≥–æ–¥**: –ü–æ–∫–∞–∑—ã–≤–∞–ª –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- **5 –ª–µ—Ç**: –ü–æ–∫–∞–∑—ã–≤–∞–ª —Ç–µ –∂–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–µ—Ä–∏–æ–¥  
- **MAX**: –ü–æ–∫–∞–∑—ã–≤–∞–ª —Ç–µ –∂–µ –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–µ—Ä–∏–æ–¥

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–∂–∏–¥–∞–ª–∏, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤ –º–µ—Ç—Ä–∏–∫–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞.

## –ü—Ä–∏—á–∏–Ω–∞

–§—É–Ω–∫—Ü–∏—è `_get_asset_key_metrics()` –ø—Ä–∏–Ω–∏–º–∞–ª–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä `period`, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –µ–≥–æ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.

## –†–µ—à–µ–Ω–∏–µ

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–µ—Ä–∏–æ–¥—É

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `_get_data_for_period()`:**
```python
def _get_data_for_period(self, asset, period: str):
    """Get filtered data for the specified period"""
    if period == '1Y':
        # Last 252 trading days (approximately 1 year)
        filtered_data = data.tail(252)
    elif period == '5Y':
        # Last 1260 trading days (approximately 5 years)
        filtered_data = data.tail(1260)
    elif period == 'MAX':
        # All available data
        filtered_data = data
    else:
        # Default to 1Y
        filtered_data = data.tail(252)
    
    # Calculate returns for the filtered period
    returns = filtered_data.pct_change().dropna()
    
    return filtered_data, returns
```

### 2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `_get_asset_key_metrics()`:**
- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- CAGR —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–∏–æ–¥–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö

```python
# Get filtered data for the period
filtered_data, returns = self._get_data_for_period(asset, period)

# Calculate CAGR for the specific period
if returns is not None and len(returns) > 0:
    total_return = (1 + returns).prod() - 1
    
    # Calculate years based on the period
    if period == '1Y':
        years = 1.0
    elif period == '5Y':
        years = 5.0
    elif period == 'MAX':
        years = len(filtered_data) / 252.0  # Approximate trading days per year
    
    cagr = (1 + total_return) ** (1 / years) - 1
    metrics['cagr'] = cagr
```

### 3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `_format_asset_info_response()`:**
- –¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä–∏–æ–¥ –∏–∑ –º–µ—Ç—Ä–∏–∫

```python
period = key_metrics.get('period', '1Y')
period_text = {
    '1Y': '1 –≥–æ–¥',
    '5Y': '5 –ª–µ—Ç', 
    'MAX': 'MAX'
}.get(period, '1 –≥–æ–¥')

metrics_text = f"\n\n–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–∑–∞ {period_text}):\n"
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

1. **1 –≥–æ–¥ (1Y)**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 252 —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω—è
   - CAGR —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ 1 –≥–æ–¥
   - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ 1 –≥–æ–¥

2. **5 –ª–µ—Ç (5Y)**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1260 —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π
   - CAGR —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ 5 –ª–µ—Ç
   - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ 5 –ª–µ—Ç

3. **MAX**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - CAGR —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥
   - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω –∏ –∑–∞–ø—É—â–µ–Ω —Ç–µ—Å—Ç `test_metrics_period_fix.py`:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–∏–π –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ –≤ –æ—Ç–≤–µ—Ç–µ
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ

### ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–ª–∏—á–∏–π

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–∑–∞ 1 –≥–æ–¥):  # –ù–æ –ø–æ–∫–∞–∑—ã–≤–∞–ª –¥–∞–Ω–Ω—ã–µ –∑–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥
–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (CAGR): +15.2%
–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: 18.5%

–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–∑–∞ 5 –ª–µ—Ç):  # –ù–æ –ø–æ–∫–∞–∑—ã–≤–∞–ª —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ
–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (CAGR): +15.2%        # –¢–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è!
–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: 18.5%             # –¢–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è!
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–∑–∞ 1 –≥–æ–¥):  # –†–µ–∞–ª—å–Ω–æ –∑–∞ 1 –≥–æ–¥
–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (CAGR): +8.3%         # –†–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!
–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: 22.1%             # –†–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!

–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–∑–∞ 5 –ª–µ—Ç):  # –†–µ–∞–ª—å–Ω–æ –∑–∞ 5 –ª–µ—Ç
–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (CAGR): +12.7%        # –†–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!
–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: 19.8%             # –†–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `_get_data_for_period()` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–µ—Ä–∏–æ–¥—É
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `_get_asset_key_metrics()` - —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –¥–ª—è –ø–µ—Ä–∏–æ–¥–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `_format_asset_info_response()` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–∏–æ–¥–æ–≤:
- **1Y**: 252 —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω—è (‚âà1 –≥–æ–¥)
- **5Y**: 1260 —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–Ω–µ–π (‚âà5 –ª–µ—Ç)  
- **MAX**: –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –î–µ–ø–ª–æ–π:
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ git
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ GitHub
- ‚úÖ GitHub Actions —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ Render

## –°—Ç–∞—Ç—É—Å

‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–æ–≤ –≤ –∫–æ–º–∞–Ω–¥–µ `/info` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç:
- –†–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è CAGR –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- –†–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–µ—Ä–∏–æ–¥–∞
- –¢–æ—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏, –æ—Ç—Ä–∞–∂–∞—é—â–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª

–ö–æ–º–∞–Ω–¥–∞ `/info` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
