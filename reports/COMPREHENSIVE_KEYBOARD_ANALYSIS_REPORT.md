# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∫–æ–º–∞–Ω–¥ /info, /compare, /portfolio

## üéØ –¶–µ–ª—å –∞–Ω–∞–ª–∏–∑–∞
–ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö `/info`, `/compare` –∏ `/portfolio` –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /info - –í–°–ï –ö–ù–û–ü–ö–ò –†–ê–ë–û–¢–ê–Æ–¢ –ü–†–ê–í–ò–õ–¨–ù–û

#### 1. `_handle_info_period_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8591-8595)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `await update.callback_query.edit_message_reply_markup(reply_markup=None)`

#### 2. `_handle_info_risks_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8674-8678)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `await update.callback_query.edit_message_reply_markup(reply_markup=None)`

#### 3. `_handle_info_metrics_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8732-8736)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `await update.callback_query.edit_message_reply_markup(reply_markup=None)`

#### 4. `_handle_info_ai_analysis_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8801-8805)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `await update.callback_query.edit_message_reply_markup(reply_markup=None)`

#### 5. `_handle_info_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8841-8845)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `await update.callback_query.edit_message_reply_markup(reply_markup=None)`

#### 6. `_handle_info_portfolio_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8874-8878)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `await update.callback_query.edit_message_reply_markup(reply_markup=None)`

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /portfolio - –í–°–ï –ö–ù–û–ü–ö–ò –†–ê–ë–û–¢–ê–Æ–¢ –ü–†–ê–í–ò–õ–¨–ù–û

#### 1. `_handle_portfolio_drawdowns_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 12058)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 12054-12066)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_portfolio_command_keyboard(portfolio_symbol)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 2. `_handle_portfolio_returns_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 12428)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 12424-12436)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_portfolio_command_keyboard(portfolio_symbol)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 3. `_handle_portfolio_wealth_chart_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 12714)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 12710-12722)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_portfolio_command_keyboard(portfolio_symbol)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 4. `_handle_portfolio_rolling_cagr_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 13027)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 13023-13035)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_portfolio_command_keyboard(portfolio_symbol)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 5. `_handle_portfolio_compare_assets_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /compare - –í–°–ï –ö–ù–û–ü–ö–ò –†–ê–ë–û–¢–ê–Æ–¢ –ü–†–ê–í–ò–õ–¨–ù–û

#### 1. `_handle_risk_return_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 5792)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 5789-5800)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_compare_command_keyboard(symbols, currency)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 2. `_handle_chart_analysis_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ `_send_callback_message_with_keyboard_removal`)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 5901-5914)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `_send_callback_message_with_keyboard_removal`

#### 3. `_handle_efficient_frontier_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 6013)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 6010-6021)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_compare_command_keyboard(symbols, currency)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 4. `_handle_data_analysis_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ `_send_callback_message_with_keyboard_removal`)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 6079-6096)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `_send_callback_message_with_keyboard_removal`

#### 5. `_handle_yandexgpt_analysis_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ `_send_callback_message_with_keyboard_removal`)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 6157-6167)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `_send_callback_message_with_keyboard_removal`

#### 6. `_handle_metrics_compare_button` ‚úÖ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—á–µ—Ä–µ–∑ `_send_callback_message_with_keyboard_removal`)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 6207-6231)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `_send_callback_message_with_keyboard_removal`

#### 7. `_handle_drawdowns_button` ‚úÖ (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 8090)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8087-8098)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_compare_command_keyboard(symbols, currency)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 8. `_handle_dividends_button` ‚úÖ (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 8280)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8277-8288)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_compare_command_keyboard(symbols, currency)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

#### 9. `_handle_correlation_button` ‚úÖ (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∞ 8481)
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: ‚úÖ –ï—Å—Ç—å (—Å—Ç—Ä–æ–∫–∏ 8478-8490)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 
  - `keyboard = self._create_compare_command_keyboard(symbols, currency)`
  - `await self._remove_keyboard_before_new_message(update, context)`
  - `reply_markup=keyboard`

## üîß –°–æ–∑–¥–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `_send_message_with_keyboard_management`
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `bot.py`, —Å—Ç—Ä–æ–∫–∏ 7583-7633
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã**: photo, text, document
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**: —É–¥–∞–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–æ–≤–æ–º—É

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã /compare
- `_handle_drawdowns_button` - –¥–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- `_handle_dividends_button` - –¥–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π  
- `_handle_correlation_button` - –¥–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞

### –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫: 20
- **–ö–æ–º–∞–Ω–¥–∞ /info**: 6 –∫–Ω–æ–ø–æ–∫ ‚úÖ (100% —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- **–ö–æ–º–∞–Ω–¥–∞ /portfolio**: 5 –∫–Ω–æ–ø–æ–∫ ‚úÖ (100% —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- **–ö–æ–º–∞–Ω–¥–∞ /compare**: 9 –∫–Ω–æ–ø–æ–∫ ‚úÖ (100% —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

### –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: 3 –∫–Ω–æ–ø–∫–∏ (drawdowns, dividends, correlation –≤ –∫–æ–º–∞–Ω–¥–µ /compare)
- **–£–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ**: 17 –∫–Ω–æ–ø–æ–∫
- **–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞**: 100% (–≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
–î–ª—è –Ω–æ–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `_send_message_with_keyboard_management`:

```python
# –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
await self._send_message_with_keyboard_management(
    update, context, 
    message_type='photo',
    content=img_buffer,
    caption=caption,
    keyboard=keyboard
)

# –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
await self._send_message_with_keyboard_management(
    update, context,
    message_type='text', 
    content=text,
    keyboard=keyboard,
    parse_mode='Markdown'
)
```

### 2. –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω:

```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
keyboard = self._create_[command]_command_keyboard(parameters)

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
await self._remove_keyboard_before_new_message(update, context)

# –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
await context.bot.send_photo(
    chat_id=update.effective_chat.id,
    photo=content,
    caption=caption,
    reply_markup=keyboard
)
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ–º–∞–Ω–¥–∞—Ö `/info`, `/compare` –∏ `/portfolio` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- ‚úÖ –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —É–¥–∞–ª—è–µ—Ç—Å—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–ª –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

–ü—Ä–æ–±–ª–µ–º–∞ —Å "–∑–∞—Å—Ç—Ä—è–≤—à–∏–º–∏" –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞.
