# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ _create_enhanced_chart_caption

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `/compare` –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: ShansAi.createenhancedchartcaption() takes 4 positional arguments but 5 were given
```

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
–§—É–Ω–∫—Ü–∏—è `_create_enhanced_chart_caption` –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å 3 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```python
def _create_enhanced_chart_caption(self, symbols: list, currency: str, specified_period: str) -> str:
```

–ù–æ –≤—ã–∑—ã–≤–∞–ª–∞—Å—å —Å 4 –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:
```python
caption = self._create_enhanced_chart_caption(
    symbols, currency, specified_period, display_symbols  # ‚Üê –ª–∏—à–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç
)
```

### –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–§–∞–π–ª**: `bot.py`
- **–°—Ç—Ä–æ–∫–∏**: 3715-3717
- **–§—É–Ω–∫—Ü–∏—è**: `compare_command()`

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ:
–£–¥–∞–ª–µ–Ω –ª–∏—à–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç `display_symbols` –∏–∑ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏:

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
caption = self._create_enhanced_chart_caption(
    symbols, currency, specified_period, display_symbols
)
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
caption = self._create_enhanced_chart_caption(
    symbols, currency, specified_period
)
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è `_create_enhanced_chart_caption`:
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å –∫ –≥—Ä–∞—Ñ–∏–∫—É –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: 
  - `symbols`: —Å–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ –∞–∫—Ç–∏–≤–æ–≤
  - `currency`: –≤–∞–ª—é—Ç–∞ —Ä–∞—Å—á–µ—Ç–∞
  - `specified_period`: —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: HTML-–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–¥–ø–∏—Å—å

### –§–æ—Ä–º–∞—Ç –ø–æ–¥–ø–∏—Å–∏:
```
üìà <b>–ì—Ä–∞—Ñ–∏–∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏</b>

<b>–ê–∫—Ç–∏–≤—ã:</b> SPY.US, QQQ.US
<b>–í–∞–ª—é—Ç–∞:</b> USD
<b>–ü–µ—Ä–∏–æ–¥:</b> 5Y
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –û—à–∏–±–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/compare` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–¥–ø–∏—Å—å –∫ –≥—Ä–∞—Ñ–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
–ü–∞—Ä–∞–º–µ—Ç—Ä `display_symbols` –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `_create_enhanced_chart_caption`, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å. –§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `symbols` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–æ–≤ –≤ –ø–æ–¥–ø–∏—Å–∏.
