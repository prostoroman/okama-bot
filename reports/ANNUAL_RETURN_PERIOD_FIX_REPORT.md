# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ —Å —É—á–µ—Ç–æ–º –ø–µ—Ä–∏–æ–¥–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è

## –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º—ã

–ì–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ CAGR (Compound Annual Growth Rate). –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ `years = len(returns) / 12`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –º–µ—Å—è—á–Ω—ã–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è.

## –ü—Ä–æ–±–ª–µ–º–∞

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```python
# –°—Ç–∞—Ä—ã–π –∫–æ–¥
total_return = (1 + returns).prod() - 1
years = len(returns) / 12  # ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ –º–µ—Å—è—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
cagr = (1 + total_return) ** (1 / years) - 1
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. **–ù–µ—Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø–µ—Ä–∏–æ–¥–∞**: –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –º–µ—Å—è—á–Ω—ã–µ
2. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞**: –ù–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è –ø–µ—Ä–∏–æ–¥, –∑–∞–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5Y, 10Y)
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å**: –î–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å –∫–æ—Ä–æ—Ç–∫–∏–º –ø–µ—Ä–∏–æ–¥–æ–º —Ä–∞—Å—á–µ—Ç –±—ã–ª –∑–∞–≤—ã—à–µ–Ω–Ω—ã–º

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã
- –ü–æ—Ä—Ç—Ñ–µ–ª—å –∑–∞ 1 –≥–æ–¥ —Å 12 –º–µ—Å—è—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –°—Ç–∞—Ä—ã–π —Ä–∞—Å—á–µ—Ç: `years = 12 / 12 = 1.0` ‚úÖ (—Å–ª—É—á–∞–π–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –ü–æ—Ä—Ç—Ñ–µ–ª—å –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤ —Å 6 –º–µ—Å—è—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏  
- –°—Ç–∞—Ä—ã–π —Ä–∞—Å—á–µ—Ç: `years = 6 / 12 = 0.5` ‚úÖ (—Å–ª—É—á–∞–π–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –ü–æ—Ä—Ç—Ñ–µ–ª—å –∑–∞ 2 –≥–æ–¥–∞ —Å 24 –º–µ—Å—è—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –°—Ç–∞—Ä—ã–π —Ä–∞—Å—á–µ—Ç: `years = 24 / 12 = 2.0` ‚úÖ (—Å–ª—É—á–∞–π–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

**–ù–æ –¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å –¥–Ω–µ–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ —Ä–∞—Å—á–µ—Ç –±—ã–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º.**

## –†–µ—à–µ–Ω–∏–µ

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞

#### `_calculate_portfolio_years(portfolio, returns)`
```python
def _calculate_portfolio_years(self, portfolio, returns) -> float:
    """Calculate the actual number of years for portfolio CAGR calculation"""
    try:
        # Handle empty returns
        if len(returns) == 0:
            return 0
            
        # Try to get actual dates from portfolio object
        if hasattr(portfolio, 'first_date') and hasattr(portfolio, 'last_date'):
            # Parse dates and calculate real period
            days_diff = (end_date - start_date).days
            years = days_diff / 365.25  # Use 365.25 for leap years
            return years
        
        # Fallback: estimate from returns data frequency
        # ... fallback logic ...
        
        # Final fallback: assume monthly data
        return len(returns) / 12 if len(returns) > 0 else 0
```

#### `_calculate_asset_years(asset, returns)`
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤.

### 2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è

```python
# –ù–æ–≤—ã–π –∫–æ–¥
total_return = (1 + returns).prod() - 1
years = self._calculate_portfolio_years(portfolio, returns)  # ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥
cagr = (1 + total_return) ** (1 / years) - 1
```

### 3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–æ–≤

```python
# –ù–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –∞–∫—Ç–∏–≤–æ–≤
total_return = (1 + returns).prod() - 1
years = self._calculate_asset_years(asset, returns)  # ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥
cagr = (1 + total_return) ** (1 / years) - 1
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –∏–∑ –æ–±—ä–µ–∫—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è (`first_date`, `last_date`)
2. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2**: –ê–Ω–∞–ª–∏–∑ –∏–Ω–¥–µ–∫—Å–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3**: –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ –º–µ—Å—è—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∫–∞–∫ fallback)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

#### –°–ª—É—á–∞–π 1: –ü–æ—Ä—Ç—Ñ–µ–ª—å —Å –∑–∞–¥–∞–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5Y)
```python
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—å: /portfolio SPY.US:0.6 QQQ.US:0.4 5Y
portfolio = ok.Portfolio(symbols, weights=weights, ccy=currency,
                        first_date='2019-01-01', last_date='2024-01-01')
# years = (2024-01-01 - 2019-01-01).days / 365.25 = 5.0
```

#### –°–ª—É—á–∞–π 2: –ü–æ—Ä—Ç—Ñ–µ–ª—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º
```python
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—å: /portfolio SPY.US:0.6 QQQ.US:0.4
portfolio = ok.Portfolio(symbols, weights=weights, ccy=currency)
# years = (last_date - first_date).days / 365.25 = —Ä–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥
```

#### –°–ª—É—á–∞–π 3: –ü–æ—Ä—Ç—Ñ–µ–ª—å —Å –¥–Ω–µ–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```python
# –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ, –∏–Ω–¥–µ–∫—Å –ø–æ–∫–∞–∂–µ—Ç —ç—Ç–æ
# years = total_days / 365.25 = –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

1. **–ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ**: `years = 0`
2. **–û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤ –º–µ–Ω–µ–µ –≥–æ–¥–∞
3. **–û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç**: Fallback –∫ –∞–Ω–∞–ª–∏–∑—É –∏–Ω–¥–µ–∫—Å–∞ –¥–∞–Ω–Ω—ã—Ö
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–∞**: Fallback –∫ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—é –æ –º–µ—Å—è—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

### 1. **bot.py**
- **–°—Ç—Ä–æ–∫–∏ 7689-7743**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_calculate_portfolio_years()`
- **–°—Ç—Ä–æ–∫–∏ 7748-7800**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_calculate_asset_years()`
- **–°—Ç—Ä–æ–∫–∏ 7718, 7724**: –û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- **–°—Ç—Ä–æ–∫–∏ 7901, 7907**: –û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–æ–≤

### 2. **tests/test_annual_return_period_fix_simple.py**
- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞
- 7 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
```
üß™ Testing Annual Return Period Fix (Simple Version)...
============================================================
‚úÖ Portfolio years calculation with dates: 5.00 years
‚úÖ Portfolio years calculation with string dates: 3.00 years  
‚úÖ Portfolio years calculation fallback: 1.92 years
‚úÖ Portfolio years calculation ultimate fallback: 1.00 years
‚úÖ Annual return calculation comparison: Old=0.1594, New=0.1594
‚úÖ Edge case - short period: 0.0849 years
‚úÖ Edge case - empty returns: 0 years
‚úÖ Real-world scenario 5Y: 5.00 years
‚úÖ Real-world scenario 1Y: 1.00 years

‚úÖ All tests passed! Annual return period fix logic is working correctly.
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –†–∞—Å—á–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏
- ‚úÖ –†–∞—Å—á–µ—Ç —Å–æ —Å—Ç—Ä–æ–∫–æ–≤—ã–º–∏ –¥–∞—Ç–∞–º–∏  
- ‚úÖ Fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞—Ç
- ‚úÖ Ultimate fallback
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥, –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ)
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (1Y, 5Y –ø–æ—Ä—Ç—Ñ–µ–ª–∏)

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–¢–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤**
- –ì–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å —Ç–µ–ø–µ—Ä—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ (1Y, 5Y, 10Y, MAX)

### 2. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö**
- –ú–µ—Å—è—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç
- –î–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç  
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç

### 3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç

### 4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

## –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏–π

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```
–ü–æ—Ä—Ç—Ñ–µ–ª—å SPY.US:0.6 QQQ.US:0.4 –∑–∞ 5 –ª–µ—Ç:
- –î–∞–Ω–Ω—ã–µ: 60 –º–µ—Å—è—á–Ω—ã—Ö —Ç–æ—á–µ–∫
- –†–∞—Å—á–µ—Ç: years = 60 / 12 = 5.0 ‚úÖ (—Å–ª—É—á–∞–π–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- CAGR: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

–ü–æ—Ä—Ç—Ñ–µ–ª—å SPY.US:0.6 QQQ.US:0.4 –∑–∞ 1 –≥–æ–¥ —Å –¥–Ω–µ–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
- –î–∞–Ω–Ω—ã–µ: 252 –¥–Ω–µ–≤–Ω—ã–µ —Ç–æ—á–∫–∏  
- –†–∞—Å—á–µ—Ç: years = 252 / 12 = 21.0 ‚ùå (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
- CAGR: –∑–∞–Ω–∏–∂–µ–Ω–Ω—ã–π –≤ 21 —Ä–∞–∑!
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```
–ü–æ—Ä—Ç—Ñ–µ–ª—å SPY.US:0.6 QQQ.US:0.4 –∑–∞ 5 –ª–µ—Ç:
- –î–∞–Ω–Ω—ã–µ: 60 –º–µ—Å—è—á–Ω—ã—Ö —Ç–æ—á–µ–∫
- –†–∞—Å—á–µ—Ç: years = (2024-01-01 - 2019-01-01).days / 365.25 = 5.0 ‚úÖ
- CAGR: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

–ü–æ—Ä—Ç—Ñ–µ–ª—å SPY.US:0.6 QQQ.US:0.4 –∑–∞ 1 –≥–æ–¥ —Å –¥–Ω–µ–≤–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
- –î–∞–Ω–Ω—ã–µ: 252 –¥–Ω–µ–≤–Ω—ã–µ —Ç–æ—á–∫–∏
- –†–∞—Å—á–µ—Ç: years = (2024-01-01 - 2023-01-01).days / 365.25 = 1.0 ‚úÖ
- CAGR: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π!
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –≥–æ–¥–æ–≤–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –†–µ—à–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –∏ –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏.

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
**–î–∞—Ç–∞**: 2024-12-19
**–í–µ—Ä—Å–∏—è**: 1.0
