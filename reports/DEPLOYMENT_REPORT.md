# –û—Ç—á–µ—Ç –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ Okama Finance Bot

## –î–∞—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
**12 —Å–µ–Ω—Ç—è–±—Ä—è 2024, 21:22 MSK**

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–î–æ–º–æ–π" –≤ –∫–æ–º–∞–Ω–¥—É /list namespace
- **–§–∞–π–ª:** `bot.py`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üè† –î–æ–º–æ–π" –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º–µ–Ω
- **–§—É–Ω–∫—Ü–∏–∏:** `_show_namespace_symbols`, `_show_tushare_namespace_symbols`, `button_callback`

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞—Ç –≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è—Ö
- **–§–∞–π–ª:** `bot.py`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞—Ç (Period, Timestamp) –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **–§—É–Ω–∫—Ü–∏—è:** –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
```bash
git status
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```

### 2. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
git add .
git commit -m "feat: add home button to /list namespace command

- Add 'üè† –î–æ–º–æ–π' button to namespace symbol lists
- Button returns users to main namespace list (/list without parameters)
- Works for both Okama and Tushare namespaces
- Improve date handling in portfolio calculations
- Add comprehensive implementation report"
```

### 3. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub
```bash
git push origin main
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### Render.com Configuration
- **–°–µ—Ä–≤–∏—Å:** Background Worker
- **–ü–ª–∞–Ω:** Starter
- **–ê–≤—Ç–æ—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** –í–∫–ª—é—á–µ–Ω–æ
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `config_files/render.yaml`

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `TELEGRAM_BOT_TOKEN` - –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `YANDEX_API_KEY` - API –∫–ª—é—á Yandex GPT
- `YANDEX_FOLDER_ID` - ID –ø–∞–ø–∫–∏ Yandex
- `OKAMA_API_KEY` - API –∫–ª—é—á Okama
- `BOT_USERNAME` - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–æ—Ç–∞
- `ADMIN_USER_ID` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
- **–§–∞–π–ª:** `scripts/start_bot.py`
- **–§—É–Ω–∫—Ü–∏–∏:** 
  - Graceful shutdown handling
  - Health check server
  - Environment detection

## –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

‚úÖ **–£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ**

### –ß—Ç–æ –±—ã–ª–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ:
1. –ö–Ω–æ–ø–∫–∞ "–î–æ–º–æ–π" –≤ –∫–æ–º–∞–Ω–¥–µ `/list namespace`
2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç –≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è—Ö
3. –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `/list US` (–∏–ª–∏ –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ namespace) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É "üè† –î–æ–º–æ–π"
- –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤–µ—Ä–Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –≥–ª–∞–≤–Ω–æ–º—É —Å–ø–∏—Å–∫—É –≤—Å–µ—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. –†–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ "–î–æ–º–æ–π" –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö namespace
2. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
3. –û–±—â—É—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –±–æ—Ç–∞

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –Ω–∞ Render
3. –°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π