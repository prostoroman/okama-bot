# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è /info [MOEX]

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `/info SBER.MOEX` –±–æ—Ç –æ—Ç–≤–µ—á–∞–ª:
```
üìä –ü–æ–ª—É—á–∞—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–∫—Ç–∏–≤–µ SBER.MOEX...
üìà –ü–æ–ª—É—á–∞—é –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫...
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
```
–ü—Ä–∏—á–∏–Ω–∞: –¥–ª—è —á–∞—Å—Ç–∏ —Ç–∏–∫–µ—Ä–æ–≤ MOEX –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ okama –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ –ø—Ä–∏–≥–æ–¥–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏–∑‚Äë–∑–∞ —á–µ–≥–æ –Ω–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏—Å—å –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª `prices` –≤ –æ—Ç–≤–µ—Ç–µ —Å–µ—Ä–≤–∏—Å–∞.

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω fallback-–∑–∞–ø—Ä–æ—Å –¥–Ω–µ–≤–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ —á–µ—Ä–µ–∑ MOEX ISS API, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ okama –Ω–µ –¥–∞–µ—Ç –¥–Ω–µ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- –ù–æ–≤—ã–π –º–µ—Ç–æ–¥: `_fetch_moex_daily_history(symbol, period_days=365)` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–Ω—ã (close) –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ —á–µ—Ä–µ–∑:
  - `candles.json?interval=24`
  - `history ... CLOSE/LEGALCLOSEPRICE` (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π) ‚Äî –∫–∞–∫ –∑–∞–ø–∞—Å–Ω–æ–π –ø—É—Ç—å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `get_asset_price_history`:
  - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –ø—Ä–æ–±—É–µ–º MOEX fallback –∏ —Å—Ç—Ä–æ–∏–º `charts['moex_daily']`
  - –ü–æ–ª–µ `prices` –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –¥–Ω–µ–≤–Ω–æ–π —Å–µ—Ä–∏–µ–π `moex_daily_series`, —á—Ç–æ–±—ã –±–æ—Ç —Å–º–æ–≥ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–∏–ª—å–Ω—ã–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫

## –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

- `services/asset_service.py`
  - –î–æ–±–∞–≤–ª–µ–Ω `_fetch_moex_daily_history`
  - –î–æ—Ä–∞–±–æ—Ç–∞–Ω `get_asset_price_history` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è MOEX fallback –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è `prices`

## –ü—Ä–æ–≤–µ—Ä–∫–∞

- `/info SBER.MOEX` ‚Äî —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –∑–∞ 1Y
- –ö–Ω–æ–ø–∫–∞ ¬´üìÖ –ú–µ—Å—è—á–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ (10Y)¬ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- Fallback –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–∏–∫–µ—Ä–æ–≤, –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏—Ö—Å—è –Ω–∞ `.MOEX`
- –î–∞–Ω–Ω—ã–µ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞—é—Ç—Å—è –ø–æ –¥–∞—Ç–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ ~365 –¥–Ω—è–º–∏

## –°—Ç–∞—Ç—É—Å

‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –¥–ª—è —Ç–∏–∫–µ—Ä–æ–≤ MOEX –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ MOEX ISS