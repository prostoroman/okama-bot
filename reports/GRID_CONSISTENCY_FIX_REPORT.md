# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∫–∏ –≤ –≥—Ä–∞—Ñ–∏–∫–∞—Ö

## –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º—ã

–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑–Ω–æ–π —Å–µ—Ç–∫–æ–π –≤ –≥—Ä–∞—Ñ–∏–∫–∞—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ rolling CAGR. –ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –≤—ã—è–≤–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞: –≥—Ä–∞—Ñ–∏–∫ rolling CAGR —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —á–µ—Ä–µ–∑ okama, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–µ—Ç–∫–∏.

## –ü—Ä–æ–±–ª–µ–º–∞

### 1. **–†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤**

**–ì—Ä–∞—Ñ–∏–∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è** (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥ chart_styles
fig, ax = chart_styles.create_portfolio_wealth_chart(
    data=wealth_index, symbols=symbols, currency=currency
)
```

**–ì—Ä–∞—Ñ–∏–∫ rolling CAGR** (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω):
```python
# –ë–´–õ–û: —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ okama
rolling_cagr_data = portfolio.get_rolling_cagr().plot()  # –°–æ–∑–¥–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ okama
current_fig = plt.gcf()  # –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ñ–∏–≥—É—Ä—É
ax = current_fig.axes[0]  # –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ–∏–≥—É—Ä–µ

# –°–¢–ê–õ–û: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —á–µ—Ä–µ–∑ chart_styles
rolling_cagr_data = portfolio.get_rolling_cagr()  # –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ
fig, ax = chart_styles.create_portfolio_rolling_cagr_chart(
    data=rolling_cagr_data, symbols=symbols, currency=currency
)
```

### 2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ç–∫–∏**

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–≥–¥–∞ –≥—Ä–∞—Ñ–∏–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `portfolio.get_rolling_cagr().plot()`, okama –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –Ω–∞—à–∏–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç okama, –∞ –≥—Ä–∞—Ñ–∏–∫ —Å–æ–∑–¥–∞–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ `chart_styles.py`.

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∫–∏ –≤ chart_styles.py:
```python
# –°–µ—Ç–∫–∞
self.grid_config = {
    'alpha': 0.25,        # –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
    'linestyle': '-',     # –°–ø–ª–æ—à–Ω—ã–µ –ª–∏–Ω–∏–∏
    'linewidth': 0.6,     # –¢–æ–ª—â–∏–Ω–∞
    'color': self.colors['grid'],  # –¶–≤–µ—Ç
    'zorder': 0           # –ü–æ—Ä—è–¥–æ–∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
}
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–µ—Ç–∫–∏:
```python
# –í –º–µ—Ç–æ–¥–µ apply_standard_chart_styling
if grid:
    ax.grid(True, **self.grid_config)  # –ï–¥–∏–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
```

### –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
```python
# –û–±–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç _create_standard_line_chart
def create_portfolio_wealth_chart(self, data, symbols, currency, **kwargs):
    return self._create_standard_line_chart(
        data=data, symbols=symbols, currency=currency, 
        chart_type='–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è', ylabel_suffix='', 
        legend=True, grid=True, **kwargs  # grid=True –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    )

def create_portfolio_rolling_cagr_chart(self, data, symbols, currency, **kwargs):
    return self._create_standard_line_chart(
        data=data, symbols=symbols, currency=currency, 
        chart_type='–°–∫–æ–ª—å–∑—è—â–∏–π CAGR –ø–æ—Ä—Ç—Ñ–µ–ª—è', ylabel_suffix='(%)', 
        legend=True, grid=True, **kwargs  # grid=True –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    )
```

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 1. **–£–±—Ä–∞–Ω —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞**

**–ë—ã–ª–æ**:
```python
# Generate rolling CAGR chart using okama
rolling_cagr_data = portfolio.get_rolling_cagr().plot()  # –°–æ–∑–¥–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫

# Get the current figure from matplotlib (created by okama)
current_fig = plt.gcf()

# Apply chart styles to the current figure
if current_fig.axes:
    ax = current_fig.axes[0]
    chart_styles.apply_standard_chart_styling(...)
```

**–°—Ç–∞–ª–æ**:
```python
# Get rolling CAGR data (—Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–∞)
rolling_cagr_data = portfolio.get_rolling_cagr()

# Create standardized rolling CAGR chart using chart_styles
fig, ax = chart_styles.create_portfolio_rolling_cagr_chart(
    data=rolling_cagr_data, symbols=symbols, currency=currency
)
```

### 2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**

**–ë—ã–ª–æ**:
```python
# Save the figure
img_buffer = io.BytesIO()
chart_styles.save_figure(current_fig, img_buffer)
chart_styles.cleanup_figure(current_fig)
```

**–°—Ç–∞–ª–æ**:
```python
# Save the figure using standardized method
img_buffer = io.BytesIO()
chart_styles.save_figure(fig, img_buffer)
chart_styles.cleanup_figure(fig)
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å–µ—Ç–∫–∏**
- –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∫–∏
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É okama –∏ chart_styles
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥

### 2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è**
- –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ chart_styles.py
- –ï–¥–∏–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –õ–µ–≥–∫–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 3. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞**
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π Nordic Pro —Å—Ç–∏–ª—å
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–º—è—Ç—å
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–ø–∏—Ä–∞–π—Ç—ã –∏ —Å—Ç–∏–ª–∏

### 4. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞**
- –£–±—Ä–∞–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–≥—É—Ä–∞–º–∏ okama
- –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥
- –ú–µ–Ω—å—à–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

```
_create_portfolio_rolling_cagr_chart()
‚îú‚îÄ‚îÄ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ portfolio.get_rolling_cagr()  # –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
‚îÇ   ‚îî‚îÄ‚îÄ chart_styles.create_portfolio_rolling_cagr_chart()
‚îú‚îÄ‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ chart_styles.save_figure()
‚îÇ   ‚îî‚îÄ‚îÄ chart_styles.cleanup_figure()
‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –ì—Ä–∞—Ñ–∏–∫ rolling CAGR —Å–æ–∑–¥–∞–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ okama
- ‚ùå –°–µ—Ç–∫–∞ –º–æ–≥–ª–∞ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å—Ç–∏–ª–µ–π
- ‚ùå –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ rolling CAGR —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ chart_styles
- ‚úÖ –°–µ—Ç–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ –≤—Å–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–º –≥—Ä–∞—Ñ–∏–∫–∞–º
- ‚úÖ –ï–¥–∏–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∏–ª–µ–π
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑–Ω–æ–π —Å–µ—Ç–∫–æ–π –≤ –≥—Ä–∞—Ñ–∏–∫–∞—Ö —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞. –¢–µ–ø–µ—Ä—å:

1. **‚úÖ –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∫–∏** - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
2. **‚úÖ –£–±—Ä–∞–Ω –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤** - –≤—Å–µ —á–µ—Ä–µ–∑ chart_styles.py
3. **‚úÖ –û–±–µ—Å–ø–µ—á–µ–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å—Ç–∏–ª–µ–π** - Nordic Pro —Å—Ç–∏–ª—å –≤–µ–∑–¥–µ
4. **‚úÖ –£–ø—Ä–æ—â–µ–Ω –∫–æ–¥** - —É–±—Ä–∞–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å okama
5. **‚úÖ –£–ª—É—á—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –≥—Ä–∞—Ñ–∏–∫–æ–≤

–°–µ—Ç–∫–∞ —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–æ –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö –ø–æ—Ä—Ç—Ñ–µ–ª—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥! üé®‚ú®
