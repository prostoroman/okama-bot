# üß† Okama Financial Brain v3.x

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![Okama 1.5.0](https://img.shields.io/badge/okama-1.5.0-green.svg)](https://pypi.org/project/okama/)
[![Telegram Bot](https://img.shields.io/badge/telegram-bot-blue.svg)](https://core.telegram.org/bots)
[![AI Powered](https://img.shields.io/badge/AI-Powered-orange.svg)](https://yandex.ru/ai/)
[![Multi-Exchange](https://img.shields.io/badge/multi--exchange-green.svg)](https://tushare.pro/)

**–Ø–¥—Ä–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞** - —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –æ—Ç –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞ –¥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–≤–æ–¥–æ–≤.

## üåü –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### ü§ñ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|---------|----------|---------------------|
| `/start` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ | `/start` |
| `/info [—Å–∏–º–≤–æ–ª]` | –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫—Ç–∏–≤–µ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ AI –∞–Ω–∞–ª–∏–∑–æ–º | `/info SBER.MOEX` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `SBER.MOEX` |
| `/portfolio` | –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å –≤–µ—Å–∞–º–∏ | `/portfolio SPY.US:0.6 QQQ.US:0.4` |
| `/compare` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –∏ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π | `/compare SPY.US QQQ.US` |
| `/my` | –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π | `/my` |
| `/list [–∫–æ–¥]` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤ | `/list` –∏–ª–∏ `/list US` |
| `/gemini_status` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ AI —Å–µ—Ä–≤–∏—Å–æ–≤ | `/gemini_status` |

### üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### üéØ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫
–ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏—Ö –≤ –∫–æ–º–∞–Ω–¥—ã:
- **"–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π Apple"** ‚Üí `/info AAPL.US`
- **"–°—Ä–∞–≤–Ω–∏ Tesla –∏ Microsoft"** ‚Üí `/compare TSLA.US MSFT.US`
- **"–ü–æ—Ä—Ç—Ñ–µ–ª—å –∏–∑ –∑–æ–ª–æ—Ç–∞ –∏ —Å–µ—Ä–µ–±—Ä–∞"** ‚Üí `/portfolio XAU.COMM:0.5 XAG.COMM:0.5`

#### üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π
- **single_asset_info** - –ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–∞
- **asset_comparison** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤
- **portfolio_analysis** - –ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- **inflation_info** - –î–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Ñ–ª—è—Ü–∏–∏
- **macro_info** - –ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

### üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä—ã–Ω–∫–∏ –∏ –∞–∫—Ç–∏–≤—ã

#### üá∫üá∏ –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ —Ä—ã–Ω–∫–∏ (.US)
- **–ê–∫—Ü–∏–∏**: AAPL.US, TSLA.US, MSFT.US, GOOGL.US
- **ETF**: SPY.US, QQQ.US, VOO.US, AGG.US, BND.US
- **–ò–Ω–¥–µ–∫—Å—ã**: SPX.INDX, IXIC.INDX, RUT.INDX

#### üá∑üá∫ –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ä—ã–Ω–∫–∏ (.MOEX)
- **–ê–∫—Ü–∏–∏**: SBER.MOEX, GAZP.MOEX, LKOH.MOEX, NVTK.MOEX
- **–ò–Ω–¥–µ–∫—Å—ã**: RGBITR.INDX, MCFTR.INDX
- **–û–±–ª–∏–≥–∞—Ü–∏–∏**: OBLG.MOEX, SU26208RMFS.MOEX

#### üá®üá≥ –ö–∏—Ç–∞–π—Å–∫–∏–µ —Ä—ã–Ω–∫–∏ (Tushare API)
- **–®–∞–Ω—Ö–∞–π—Å–∫–∞—è –±–∏—Ä–∂–∞ (.SH)**: 600000.SH, 000001.SH
- **–®—ç–Ω—å—á–∂—ç–Ω—å—Å–∫–∞—è –±–∏—Ä–∂–∞ (.SZ)**: 000001.SZ, 399005.SZ
- **–ü–µ–∫–∏–Ω—Å–∫–∞—è –±–∏—Ä–∂–∞ (.BJ)**: 900001.BJ, 800001.BJ
- **–ì–æ–Ω–∫–æ–Ω–≥—Å–∫–∞—è –±–∏—Ä–∂–∞ (.HK)**: 00001.HK, 00700.HK

#### üåç –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Ä—ã–Ω–∫–∏
- **–õ–æ–Ω–¥–æ–Ω—Å–∫–∞—è –±–∏—Ä–∂–∞ (.LSE)**: VOD.LSE, BP.LSE
- **–ù–µ–º–µ—Ü–∫–∞—è –±–∏—Ä–∂–∞ (.XETR)**: SAP.XETR, BMW.XETR
- **–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –±–∏—Ä–∂–∞ (.XFRA)**: ASML.XFRA, LVMH.XFRA
- **–ì–æ–ª–ª–∞–Ω–¥—Å–∫–∞—è –±–∏—Ä–∂–∞ (.XAMS)**: ASML.XAMS, ING.XAMS

#### üí± –í–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã (.FX)
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä—ã**: EURUSD.FX, GBPUSD.FX, USDJPY.FX
- **–ö—Ä–æ—Å—Å-–ø–∞—Ä—ã**: EURGBP.FX, AUDCAD.FX
- **–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–µ**: USDTRY.FX, USDZAR.FX

#### üõ¢Ô∏è –¢–æ–≤–∞—Ä–Ω—ã–µ –∞–∫—Ç–∏–≤—ã (.COMM)
- **–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–ª–ª—ã**: XAU.COMM (–∑–æ–ª–æ—Ç–æ), XAG.COMM (—Å–µ—Ä–µ–±—Ä–æ)
- **–≠–Ω–µ—Ä–≥–æ–Ω–æ—Å–∏—Ç–µ–ª–∏**: BRENT.COMM (–Ω–µ—Ñ—Ç—å), NG.COMM (–≥–∞–∑)
- **–°–µ–ª—å—Ö–æ–∑—Ç–æ–≤–∞—Ä—ã**: CORN.COMM, WHEAT.COMM

#### ‚Çø –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã (.CC)
- **–û—Å–Ω–æ–≤–Ω—ã–µ**: BTC.CC, ETH.CC, ADA.CC
- **–ê–ª—å—Ç–∫–æ–∏–Ω—ã**: DOT.CC, LINK.CC, UNI.CC

### üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≥—Ä–∞—Ñ–∏–∫–∏

#### üìà –¢–∏–ø—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–î–Ω–µ–≤–Ω—ã–µ —Ü–µ–Ω—ã (adj_close)** - –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–Ω—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **–ú–µ—Å—è—á–Ω—ã–µ —Ü–µ–Ω—ã (close_monthly)** - –ú–µ—Å—è—á–Ω—ã–µ —Ü–µ–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤
- **–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** - –ì—Ä–∞—Ñ–∏–∫ —Ä–æ—Å—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞** - –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏

#### üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
- `1Y` - 1 –≥–æ–¥
- `2Y` - 2 –≥–æ–¥–∞
- `5Y` - 5 –ª–µ—Ç
- `10Y` - 10 –ª–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –º–µ—Å—è—á–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤)
- `MAX` - –í–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–µ—Ä–∏–æ–¥

#### üé® –°—Ç–∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **Nordic** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ç–∏–ª—å —Å –ø–ª–∞–≤–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ (—Å–ø–ª–∞–π–Ω—ã)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CJK —à—Ä–∏—Ñ—Ç–æ–≤ –¥–ª—è –∫–∏—Ç–∞–π—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤

### ü§ñ AI-—Å–µ—Ä–≤–∏—Å—ã –∏ –∞–Ω–∞–ª–∏–∑

#### üß† YandexGPT (–æ—Å–Ω–æ–≤–Ω–æ–π AI)
- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑** - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ –≥—Ä–∞—Ñ–∏–∫–∞–º –∏ –¥–∞–Ω–Ω—ã–º
- **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏** - –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è** - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫** - –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

#### üîç Gemini API (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π AI)
- **–ê–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤** - –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑** - –ê–Ω–∞–ª–∏–∑ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å** - –†–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

#### üìä –ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ (fallback)
- **–ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑** - –ö–æ–≥–¥–∞ AI —Å–µ—Ä–≤–∏—Å—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—ã** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω

### üíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è–º–∏

#### üèóÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
```
/portfolio SPY.US:0.6 QQQ.US:0.3 BND.US:0.1
/portfolio SBER.MOEX:0.4 GAZP.MOEX:0.3 LKOH.MOEX:0.3
/portfolio XAU.COMM:0.5 XAG.COMM:0.3 BRENT.COMM:0.2
```

#### üìã –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **PORTFOLIO_1**, **PORTFOLIO_2**, **PORTFOLIO_3** –∏ —Ç.–¥.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–∞–Ω–¥–µ `/compare`

#### üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
```
/compare PORTFOLIO_1 SPY.US          # –ü–æ—Ä—Ç—Ñ–µ–ª—å vs –∏–Ω–¥–µ–∫—Å
/compare PORTFOLIO_1 PORTFOLIO_2     # –î–≤–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
/compare PORTFOLIO_1 SPY.US QQQ.US   # –°–º–µ—à–∞–Ω–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
```

### üìä –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

#### üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Total Return** - –û–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **Annual Return** - –ì–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (CAGR)
- **Volatility** - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
- **Sharpe Ratio** - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
- **Sortino Ratio** - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –°–æ—Ä—Ç–∏–Ω–æ
- **Max Drawdown** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
- **VaR (95%)** - Value at Risk
- **CVaR (95%)** - Conditional Value at Risk

#### üîó –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞** - –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
- **–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** - –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–†–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** - –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫–∞ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

#### üìä –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **Rolling CAGR** - –°–∫–æ–ª—å–∑—è—â–∞—è –≥–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **Rolling Volatility** - –°–∫–æ–ª—å–∑—è—â–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- **Rolling Sharpe** - –°–∫–æ–ª—å–∑—è—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
- **Dividend Yield** - –î–∏–≤–∏–¥–µ–Ω–¥–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **Price-to-Earnings** - –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–ø—Ä–∏–±—ã–ª—å

### üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### üîß –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **services/** - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **domain/** - –î–æ–º–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (Asset, Portfolio)
- **context_store.py** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **chart_styles.py** - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤

#### üåê API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Okama** - –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **Tushare** - –ö–∏—Ç–∞–π—Å–∫–∏–µ —Ñ–æ–Ω–¥–æ–≤—ã–µ —Ä—ã–Ω–∫–∏
- **YandexGPT** - AI –∞–Ω–∞–ª–∏–∑ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- **Gemini** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π AI –∞–Ω–∞–ª–∏–∑

#### üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
- **In-memory storage** - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- **Thread-safe operations** - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
- **Automatic cleanup** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
- **Context persistence** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

### üéØ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- **–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–æ–≤
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –±–∏—Ä–∂–∞–º** - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω—ã–º —Ä—ã–Ω–∫–∞–º
- **ISIN –∫–æ–¥—ã** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

#### üì± –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- **Inline –∫–Ω–æ–ø–∫–∏** - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã** - –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏** - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

#### üåç –ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã** - –ü–æ —Å–∏–º–≤–æ–ª–∞–º –∞–∫—Ç–∏–≤–æ–≤
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç** - –ï–¥–∏–Ω–∞—è –≤–∞–ª—é—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- **–ò–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞** - –†–µ–∞–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å

### üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
TELEGRAM_BOT_TOKEN=your_bot_token
YANDEX_API_KEY=your_yandex_key
YANDEX_FOLDER_ID=your_folder_id

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ
TUSHARE_API_KEY=your_tushare_key
GEMINI_API_KEY=your_gemini_key
```

#### üê≥ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **Local development** - –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **Render** - –û–±–ª–∞—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- **Heroku** - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å
- **Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **VPS** - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã

#### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Python 3.8+** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è Python
- **Okama 1.5.0+** - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **matplotlib** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **pandas** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **scipy** - –ù–∞—É—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- **requests** - HTTP –∑–∞–ø—Ä–æ—Å—ã
- **tushare** - –ö–∏—Ç–∞–π—Å–∫–∏–µ —Ä—ã–Ω–∫–∏

## üîß –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (27.01.2025)

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /info —É–ª—É—á—à–µ–Ω–∞ - —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü—É—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ /info**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ã—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π**: –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞–ø—Ä—è–º—É—é (SBER.MOEX, AAPL)
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–Ω–æ–ø–∫–∞—Ö
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤**: –ø–æ–ª–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (SBER.MOEX), –∫–æ—Ä–æ—Ç–∫–∏–µ (AAPL), ISIN –∫–æ–¥—ã
- **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX**: –Ω–µ –Ω—É–∂–Ω–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–∏—Å–∞—Ç—å `/info SBER.MOEX`

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/info                    # –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
SBER.MOEX               # –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–º–≤–æ–ª–∞
AAPL                    # –ö–æ—Ä–æ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ AAPL.US)
```

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /compare –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤**: —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ "–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö" –∏ "float() argument"
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π**: –ø–æ—Ä—Ç—Ñ–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≤–º–µ—Å—Ç–æ generic "Portfolio_1"
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ—Ä—Ç—Ñ–µ–ª—è—Ö –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –∫–Ω–æ–ø–∫–∞—Ö
- **–£–ª—É—á—à–µ–Ω–Ω—ã–µ caption**: –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –∏ —Å–æ—Å—Ç–∞–≤ –∞–∫—Ç–∏–≤–æ–≤
- **–°–≤—è–∑–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**: –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –µ–¥–∏–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
```
üîó –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

üìä –°–æ—Å—Ç–∞–≤:
‚Ä¢ –ü–æ—Ä—Ç—Ñ–µ–ª–∏: PORTFOLIO_1, portfolio_123.PF
‚Ä¢ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã: SPY.US, QQQ.US
‚Ä¢ –í–∞–ª—é—Ç–∞: USD
```

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /list —É–ª—É—á—à–µ–Ω–∞ - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã 15 —É–¥–æ–±–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º –∏–º–µ–Ω
- –ö–Ω–æ–ø–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º: –±–∏—Ä–∂–∏, –∏–Ω–¥–µ–∫—Å—ã, –≤–∞–ª—é—Ç—ã, —Ç–æ–≤–∞—Ä—ã, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ—Ç –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, —á—Ç–æ –∏ –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ `/list <–∫–æ–¥>`
- –£–ª—É—á—à–µ–Ω UX - –Ω–µ –Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /portfolio —É–ª—É—á—à–µ–Ω–∞ - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏–º–≤–æ–ª—ã –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- –ö–∞–∂–¥–æ–º—É —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É –ø–æ—Ä—Ç—Ñ–µ–ª—é –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª (PORTFOLIO_1, PORTFOLIO_2, etc.)
- –°–∏–º–≤–æ–ª –ø–æ—Ä—Ç—Ñ–µ–ª—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–¥ –≥—Ä–∞—Ñ–∏–∫–æ–º –¥–ª—è –ª–µ–≥–∫–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü–æ—Ä—Ç—Ñ–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –≤ –∫–æ–º–∞–Ω–¥–µ `/compare`

**–í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–±–µ–ª—ã –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏, –∞ –Ω–µ –∑–∞–ø—è—Ç—ã–µ!
```
/portfolio LQDT.MOEX:0.78 OBLG.MOEX:0.16 GOLD.MOEX:0.06  ‚úÖ
/portfolio LQDT.MOEX:0.78,OBLG.MOEX:0.16,GOLD.MOEX:0.06  ‚ùå
```

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /compare —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å –æ–±—ã—á–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –º–µ–∂–¥—É —Å–æ–±–æ–π
- –°–º–µ—à–∞–Ω–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ: –ø–æ—Ä—Ç—Ñ–µ–ª–∏ + –∞–∫—Ç–∏–≤—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π –≤ —Å–ø—Ä–∞–≤–∫–µ

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/compare PORTFOLIO_1 SPY.US          # –ü–æ—Ä—Ç—Ñ–µ–ª—å vs S&P 500
/compare PORTFOLIO_1 PORTFOLIO_2     # –î–≤–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è
/compare PORTFOLIO_1 SPY.US QQQ.US   # –ü–æ—Ä—Ç—Ñ–µ–ª—å + –∞–∫—Ç–∏–≤—ã
```

### ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /my - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞, –¥–æ–ª–µ–π, –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –∫–æ–º–∞–Ω–¥–µ /compare
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```
/my                                  # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–æ—Ä—Ç—Ñ–µ–ª–∏
```

### üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π** - –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ
- **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫** - –ø–∏—à–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫–∞–∫ –æ–±—â–∞–µ—Ç–µ—Å—å —Å —á–µ–ª–æ–≤–µ–∫–æ–º
- **AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üìä –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑
- **–ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–æ–≤** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ–¥–Ω–æ–º—É –∞–∫—Ç–∏–≤—É —Å –¥–≤—É–º—è –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ —Ü–µ–Ω –∏ AI –∞–Ω–∞–ª–∏–∑–æ–º
- **–ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–î–≤–æ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** - –¥–Ω–µ–≤–Ω—ã–µ (adj_close) –∏ –º–µ—Å—è—á–Ω—ã–µ (close_monthly) —Ü–µ–Ω—ã
- **AI –∞–Ω–∞–ª–∏–∑** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —á–µ—Ä–µ–∑ YandexGPT
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤** - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **–ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ (–∫–æ–º–∞–Ω–¥–∞ `/portfolio`)
- **–°–∏–º–≤–æ–ª—ã –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π** - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å –∞–∫—Ç–∏–≤–∞–º–∏ –∏ –º–µ–∂–¥—É —Å–æ–±–æ–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è–º–∏** - –∫–æ–º–∞–Ω–¥–∞ `/my` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** - –≤—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –≤–∞–ª—é—Ç—ã, —Å—ã—Ä—å–µ, –∏–Ω–¥–µ–∫—Å—ã
- **–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–ª—è—Ü–∏–∏** - –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Ñ–ª—è—Ü–∏–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö
- **–ü–ª–∞–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** - –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å–ø–ª–∞–π–Ω–∞–º–∏ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### üîß –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–æ–≤** - –ø–µ—Ä–µ–≤–æ–∂—É –Ω–∞–∑–≤–∞–Ω–∏—è –≤ —Ç–∏–∫–µ—Ä—ã Okama
- **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤** - —Å–æ–∑–¥–∞—é –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤** - –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é –¥–∞–Ω–Ω—ã–µ —Å –ø–ª–∞–≤–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ (—Å–ø–ª–∞–π–Ω—ã)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é –≤–µ—Å–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è

### üéØ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - –º–∞—Ç—Ä–∏—Ü—ã –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –¥–ª—è –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞** - –ø–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Ä–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **–ü–µ–Ω—Å–∏–æ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–Ω–∞–ª–∏–∑ —Å —É—á–µ—Ç–æ–º –∏–Ω—Ñ–ª—è—Ü–∏–∏
- **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ** - –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

```
okama-bot/
‚îú‚îÄ‚îÄ üìÅ services/                    # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                # –ü–∞–∫–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ üß† financial_brain.py      # **–Ø–¥—Ä–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã**
‚îÇ   ‚îú‚îÄ‚îÄ okama_handler_enhanced.py  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö Okama
‚îÇ   ‚îú‚îÄ‚îÄ asset_service.py           # –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ intent_parser_enhanced.py  # –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞–º–µ—Ä–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ asset_resolver_enhanced.py # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ report_builder_enhanced.py # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ analysis_engine_enhanced.py# AI-–≤—ã–≤–æ–¥—ã –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ financial_brain_enhanced.py# –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω
‚îÇ   ‚îî‚îÄ‚îÄ chart_styles.py            # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îú‚îÄ‚îÄ üìÅ docs/                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÅ config_files/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ üìÅ scripts/                     # –°–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ bot.py                          # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py                       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ services/yandexgpt_service.py   # –°–µ—Ä–≤–∏—Å YandexGPT
‚îú‚îÄ‚îÄ requirements.txt                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îî‚îÄ‚îÄ .gitignore                      # –ò—Å–∫–ª—é—á–µ–Ω–∏—è Git
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üß† –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)

**–ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–æ–≤:**
```
"–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π Apple"
"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Tesla"
"–ü–æ–∫–∞–∂–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ SBER.MOEX"
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤:**
```
"–°—Ä–∞–≤–Ω–∏ Apple –∏ Microsoft"
"–ß—Ç–æ –ª—É—á—à–µ: VOO.US –∏–ª–∏ SPY.US?"
"–°–æ–ø–æ—Å—Ç–∞–≤—å –∑–æ–ª–æ—Ç–æ –∏ —Å–µ—Ä–µ–±—Ä–æ"
```

**–ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è:**
```
"–ü–æ—Ä—Ç—Ñ–µ–ª—å –∏–∑ VOO.US –∏ AGG.US"
"–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –ø–æ—Ä—Ç—Ñ–µ–ª—å —Å –≤–µ—Å–∞–º–∏ 60% –∞–∫—Ü–∏–∏, 40% –æ–±–ª–∏–≥–∞—Ü–∏–∏"
"–ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è"
```

**–ö–æ–º–∞–Ω–¥–∞ /portfolio (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞):**
```
/portfolio LQDT.MOEX:0.78 OBLG.MOEX:0.16 GOLD.MOEX:0.06
/portfolio SBER.MOEX:0.4 GAZP.MOEX:0.3 LKOH.MOEX:0.3
/portfolio SPY.US:0.5 QQQ.US:0.3 BND.US:0.2
```

**–ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:**
```
"–°—Ä–∞–≤–Ω–∏ S&P 500 –∏ NASDAQ"
"–ê–Ω–∞–ª–∏–∑ –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–∞—Ä"
"–î–∏–Ω–∞–º–∏–∫–∞ —Ü–µ–Ω –Ω–∞ –Ω–µ—Ñ—Ç—å –∏ –∑–æ–ª–æ—Ç–æ"
```

**–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ñ–ª—è—Ü–∏–∏:**
```
"–ò–Ω—Ñ–ª—è—Ü–∏—è –≤ –°–®–ê –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ª–µ—Ç"
"CPI –¥–∞–Ω–Ω—ã–µ –ø–æ –†–æ—Å—Å–∏–∏"
"–¢—Ä–µ–Ω–¥—ã –∏–Ω—Ñ–ª—è—Ü–∏–∏ –≤ –ï–≤—Ä–æ–ø–µ"
```

### üîß –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```
/asset [symbol] [–ø–µ—Ä–∏–æ–¥]  # –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫—Ç–∏–≤–µ —Å –¥–≤—É–º—è –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ AI –∞–Ω–∞–ª–∏–∑–æ–º
/chart [symbol] [–ø–µ—Ä–∏–æ–¥]  # –î–≤–∞ –≥—Ä–∞—Ñ–∏–∫–∞ —Ü–µ–Ω –∞–∫—Ç–∏–≤–∞ (–¥–Ω–µ–≤–Ω—ã–µ + –º–µ—Å—è—á–Ω—ã–µ)
/price [symbol]           # –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –∞–∫—Ç–∏–≤–∞
/dividends [symbol]       # –ò—Å—Ç–æ—Ä–∏—è –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤
/chat [–≤–æ–ø—Ä–æ—Å]            # AI-—Å–æ–≤–µ—Ç–Ω–∏–∫
/test [symbol]            # –¢–µ—Å—Ç Okama
/testai                   # –¢–µ—Å—Ç YandexGPT
/list [–∫–æ–¥]          # –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω –∏–ª–∏ —Å–∏–º–≤–æ–ª—ã –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
```

**–ö–æ–º–∞–Ω–¥–∞ /list —Å –∫–Ω–æ–ø–∫–∞–º–∏:**
- `/list` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω —Å —É–¥–æ–±–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞–º:
  - üá∫üá∏ **US** - –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ –∞–∫—Ü–∏–∏
  - üá∑üá∫ **MOEX** - —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–∫—Ü–∏–∏  
  - üá¨üáß **LSE** - –ª–æ–Ω–¥–æ–Ω—Å–∫–∞—è –±–∏—Ä–∂–∞
  - üá©üá™ **XETR** - –Ω–µ–º–µ—Ü–∫–∞—è –±–∏—Ä–∂–∞
  - üá´üá∑ **XFRA** - —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∞—è –±–∏—Ä–∂–∞
  - üá≥üá± **XAMS** - –≥–æ–ª–ª–∞–Ω–¥—Å–∫–∞—è –±–∏—Ä–∂–∞
  - üìä **INDX** - –º–∏—Ä–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã
  - üí± **FX** - –≤–∞–ª—é—Ç–Ω—ã–µ –ø–∞—Ä—ã
  - üõ¢Ô∏è **COMM** - —Ç–æ–≤–∞—Ä–Ω—ã–µ –∞–∫—Ç–∏–≤—ã
  - ‚Çø **CC** - –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤:**
- `1Y` - 1 –≥–æ–¥
- `2Y` - 2 –≥–æ–¥–∞  
- `5Y` - 5 –ª–µ—Ç
- `10Y` - 10 –ª–µ—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –º–µ—Å—è—á–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤)
- `MAX` - –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–µ—Ä–∏–æ–¥

**–¢–∏–ø—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤:**
- üìà **–î–Ω–µ–≤–Ω—ã–µ —Ü–µ–Ω—ã (adj_close)** - —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–Ω—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- üìä **–ú–µ—Å—è—á–Ω—ã–µ —Ü–µ–Ω—ã (close_monthly)** - –º–µ—Å—è—á–Ω—ã–µ —Ü–µ–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 –ª–µ—Ç)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/your-username/okama-bot.git
cd okama-bot
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
cp config_files/config.env.example config_files/config.env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config_files/config.env, –¥–æ–±–∞–≤–∏–≤ –≤–∞—à–∏ API –∫–ª—é—á–∏
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config_files/config.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```env
# Telegram Bot Token
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# YandexGPT API
YANDEX_API_KEY=your_yandexgpt_api_key
YANDEX_FOLDER_ID=your_folder_id

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
OKAMA_API_KEY=optional_okama_api_key
```

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: `config.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `YANDEX_API_KEY` –∏ `YANDEX_FOLDER_ID`. –†–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ `YANDEXGPT_*` –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è.

## üöÄ –ó–∞–ø—É—Å–∫

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
.venv\Scripts\python.exe bot.py

# –ò–ª–∏ —Å –ø–æ–º–æ—â—å—é helper —Å–∫—Ä–∏–ø—Ç–∞
python3 scripts/run_python.py bot.py
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
```bash
python bot.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Okama
/chat –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è?
/test VOO.US

# –ü—Ä–æ–≤–µ—Ä–∫–∞ YandexGPT
/testai
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|---------|
| `/start` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ | `/start` |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º | `/help` |
| `/info` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫—Ç–∏–≤–µ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º –∏ AI –∞–Ω–∞–ª–∏–∑–æ–º | `/info SBER.MOEX` |
| `/info` | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ | `/info` |
| `[—Å–∏–º–≤–æ–ª]` | –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ | `SBER.MOEX` –∏–ª–∏ `AAPL` |
| `/portfolio` | –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è | `/portfolio SPY.US:0.6 QQQ.US:0.4` |
| `/compare` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –∏ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π | `/compare SPY.US QQQ.US` |
| `/my` | –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π | `/my` |
| `/list` | –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω | `/list` |
| `/chat` | AI-—Å–æ–≤–µ—Ç–Ω–∏–∫ | `/chat What is Sharpe ratio?` |
| `/test` | –¢–µ—Å—Ç Okama –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | `/test VOO.US` |
| `/testai` | –¢–µ—Å—Ç YandexGPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | `/testai` |

### –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫

–ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ:

- "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–æ–π –ø–æ—Ä—Ç—Ñ–µ–ª—å AGG.US SPY.US"
- "–ö–∞–∫–æ–π —Ä–∏—Å–∫ —É XAU.COMM?"
- "–°—Ä–∞–≤–Ω–∏ SPX.INDX —Å IXIC.INDX"
- "–ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–π –ø–æ—Ä—Ç—Ñ–µ–ª—å?"

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞–∫—Ç–∏–≤—ã

### –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã
- `RGBITR.INDX` - –ò–Ω–¥–µ–∫—Å –ú–æ—Å–ë–∏—Ä–∂–∏
- `MCFTR.INDX` - –ò–Ω–¥–µ–∫—Å –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –±–∏—Ä–∂–∏

### –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ ETF
- `AGG.US` - Aggregate Bond ETF
- `SPY.US` - S&P 500 ETF
- `QQQ.US` - NASDAQ-100 ETF

### –¢–æ–≤–∞—Ä—ã
- `XAU.COMM` - –ó–æ–ª–æ—Ç–æ
- `XAG.COMM` - –°–µ—Ä–µ–±—Ä–æ
- `BRENT.COMM` - –ù–µ—Ñ—Ç—å

### –í–∞–ª—é—Ç—ã
- `USD.RUB` - –î–æ–ª–ª–∞—Ä –°–®–ê –∫ —Ä—É–±–ª—é
- `EURUSD.FX` - –ï–≤—Ä–æ –∫ –¥–æ–ª–ª–∞—Ä—É –°–®–ê

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **Total Return** - –û–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **Annual Return** - –ì–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **Volatility** - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- **Sharpe Ratio** - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –®–∞—Ä–ø–∞
- **Sortino Ratio** - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –°–æ—Ä—Ç–∏–Ω–æ
- **Max Drawdown** - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞
- **VaR (95%)** - Value at Risk
- **CVaR (95%)** - Conditional Value at Risk

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ v3.x

### 1. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Okama v1.5.0
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ API
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `inflation=True`

### 2. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º
- –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- Graceful degradation

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ª–∏–º–∏—Ç–æ–≤
- –†–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

1. **"Real Return is not defined"**
   - –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤—å—Ç–µ `inflation=True` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è

2. **"No price data found"**
   - –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: `.INDX`, `.US`, `.COMM`, `.FX`

3. **"Insufficient data for analysis"**
   - –†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ —Å–∏–º–≤–æ–ª—ã

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
export PYTHONPATH=.
python -u bot.py 2>&1 | tee bot.log

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –æ—Ç–ª–∞–¥–∫–∏ –≤ –±–æ—Ç–µ
/test VOO.US
/testai
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Okama
```bash
pip install --upgrade okama
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install --upgrade -r requirements.txt
```

**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `scipy>=1.10.0` - –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Å–ø–ª–∞–π–Ω–∞–º–∏ –≤ –≥—Ä–∞—Ñ–∏–∫–∞—Ö

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `services/new_service.py`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
3. –î–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ `services/__init__.py`
4. –û–±–Ω–æ–≤–∏—Ç–µ `services/okama_handler_enhanced.py` –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ `financial_brain_enhanced.py`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∏–ª–µ–π –≥—Ä–∞—Ñ–∏–∫–æ–≤
1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `services/chart_styles.py`
2. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∫–æ –≤—Å–µ–º –≥—Ä–∞—Ñ–∏–∫–∞–º
3. –î–ª—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `chart_styles.plot_smooth_line()`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞
```python
class NewService:
    def __init__(self):
        pass
    def main_method(self, *args):
        pass
    def _helper_method(self, *args):
        pass
    def _create_error_chart(self, error_message: str) -> bytes:
        pass
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ [docs/readme/](docs/readme/):
- [–ò–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](docs/readme/README_INDEX.md) - –û–±–∑–æ—Ä –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](docs/readme/OPTIMIZED_QUICK_START.md) - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](docs/readme/DEPLOYMENT_GUIDE.md) - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](docs/readme/PROJECT_STRUCTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
- [–û—Ç—á–µ—Ç –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](docs/readme/OPTIMIZATION_REPORT.md) - –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –ª–∏—Ü–µ–Ω–∑–∏–∏, —á—Ç–æ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- Okama: [MIT License](https://github.com/mbk-dev/okama/blob/master/LICENSE)
- python-telegram-bot: [GPL-3.0](https://github.com/python-telegram-bot/python-telegram-bot/blob/master/LICENSE)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –æ—Ç–ª–∞–¥–∫–∏ (`/test`, `/testai`)
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API —Å–µ—Ä–≤–∏—Å–æ–≤

## üéâ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [Okama](https://github.com/mbk-dev/okama) - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) - Telegram Bot API
- [YandexGPT](https://cloud.yandex.ru/services/yandexgpt) - AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

---

**Okama Finance Bot v3.x** - –í–∞—à –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –º–∏—Ä–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤! üöÄüìä

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **`/start`** - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏
- **`/info [—Å–∏–º–≤–æ–ª]`** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫—Ç–∏–≤–µ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ AI –∞–Ω–∞–ª–∏–∑–æ–º
- **`/portfolio`** - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Å –≤–µ—Å–∞–º–∏
- **`/compare`** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –∏ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **`/my`** - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **`/list [–∫–æ–¥]`** - –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤
- **`/gemini_status`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ AI —Å–µ—Ä–≤–∏—Å–æ–≤

### üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ä—ã–Ω–∫–∏ (–≤—Å–µ–≥–æ 15+ –±–∏—Ä–∂)
- **üá∫üá∏ –°–®–ê** (.US) - NYSE, NASDAQ, AMEX
- **üá∑üá∫ –†–æ—Å—Å–∏—è** (.MOEX) - –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞
- **üá®üá≥ –ö–∏—Ç–∞–π** (.SH/.SZ/.BJ/.HK) - –®–∞–Ω—Ö–∞–π, –®—ç–Ω—å—á–∂—ç–Ω—å, –ü–µ–∫–∏–Ω, –ì–æ–Ω–∫–æ–Ω–≥
- **üá¨üáß –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è** (.LSE) - –õ–æ–Ω–¥–æ–Ω—Å–∫–∞—è –±–∏—Ä–∂–∞
- **üá©üá™ –ì–µ—Ä–º–∞–Ω–∏—è** (.XETR) - –§—Ä–∞–Ω–∫—Ñ—É—Ä—Ç—Å–∫–∞—è –±–∏—Ä–∂–∞
- **üá´üá∑ –§—Ä–∞–Ω—Ü–∏—è** (.XFRA) - –ü–∞—Ä–∏–∂—Å–∫–∞—è –±–∏—Ä–∂–∞
- **üá≥üá± –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã** (.XAMS) - –ê–º—Å—Ç–µ—Ä–¥–∞–º—Å–∫–∞—è –±–∏—Ä–∂–∞
- **üí± –í–∞–ª—é—Ç—ã** (.FX) - FOREX —Ä—ã–Ω–æ–∫
- **üõ¢Ô∏è –¢–æ–≤–∞—Ä—ã** (.COMM) - –¢–æ–≤–∞—Ä–Ω—ã–µ –∞–∫—Ç–∏–≤—ã
- **‚Çø –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã** (.CC) - –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–π —Ä—ã–Ω–æ–∫

### üìä –¢–∏–ø—ã –∞–Ω–∞–ª–∏–∑–∞
- **–ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–æ–≤** - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ–¥–Ω–æ–º—É –∞–∫—Ç–∏–≤—É
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤** - –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **–ê–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - –ú–∞—Ç—Ä–∏—Ü—ã –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –¥–ª—è –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞** - –ü–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Ä–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- **–ü–µ–Ω—Å–∏–æ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ê–Ω–∞–ª–∏–∑ —Å —É—á–µ—Ç–æ–º –∏–Ω—Ñ–ª—è—Ü–∏–∏
- **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ** - –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥—É—â–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### ü§ñ AI –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **YandexGPT** - –û—Å–Ω–æ–≤–Ω–æ–π AI –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **Gemini API** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **–ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑** - Fallback –∫–æ–≥–¥–∞ AI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫** - –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

### üìà –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (15+ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π)
- **–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å**: Total Return, Annual Return, CAGR
- **–†–∏—Å–∫**: Volatility, Max Drawdown, VaR, CVaR
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: Sharpe Ratio, Sortino Ratio
- **–î–∏–Ω–∞–º–∏–∫–∞**: Rolling CAGR, Rolling Volatility, Rolling Sharpe
- **–î–∏–≤–∏–¥–µ–Ω–¥—ã**: Dividend Yield, Dividend History
- **–û—Ü–µ–Ω–∫–∞**: Price-to-Earnings, Price-to-Book

### üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- **–î–Ω–µ–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** - –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–Ω—ã
- **–ú–µ—Å—è—á–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** - –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã
- **–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** - –†–æ—Å—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã** - –¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
- **Nordic —Å—Ç–∏–ª—å** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω
- **–°–ø–ª–∞–π–Ω—ã** - –ü–ª–∞–≤–Ω—ã–µ –ª–∏–Ω–∏–∏ —Å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π

### üíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è–º–∏
- **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π** - –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Å–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã** - PORTFOLIO_1, PORTFOLIO_2, etc.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –í—Å–µ –∞—Ç—Ä–∏–±—É—Ç—ã –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π** - –° –∞–∫—Ç–∏–≤–∞–º–∏ –∏ –º–µ–∂–¥—É —Å–æ–±–æ–π
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–µ–ª–µ–π** - –ö–æ–º–∞–Ω–¥–∞ `/my`

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º
- **Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
- **In-memory storage** - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- **Graceful degradation** - –†–∞–±–æ—Ç–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Ç–∏–∫–µ—Ä—ã Okama
- **–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç

## Troubleshooting

- If free-form queries return a generic error, ensure dependencies are installed (see `requirements.txt`).
- Set `YANDEX_API_KEY` and `YANDEX_FOLDER_ID` in environment; otherwise AI features will degrade gracefully.
- MOEX data may be temporarily unavailable; the bot now surfaces data errors in responses instead of failing silently.
- Chinese market data requires Tushare API key for full functionality.
- AI services (Gemini) are optional but enhance analysis capabilities.
