# –ö–æ–º–∞–Ω–¥–∞ /compare - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤

## –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ `/compare` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫—Ç–∏–≤–æ–≤ —Å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –≥—Ä–∞—Ñ–∏–∫–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ (accumulated return).

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ 10 –∞–∫—Ç–∏–≤–æ–≤** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã** –ø–æ –ø–µ—Ä–≤–æ–º—É –∞–∫—Ç–∏–≤—É
- **–ì—Ä–∞—Ñ–∏–∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–∞–ª—é—Ç–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π** –∞–∫—Ç–∏–≤–æ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º** –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã
–ö–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—É—é –≤–∞–ª—é—Ç—É –ø–æ –ø–µ—Ä–≤–æ–º—É –∞–∫—Ç–∏–≤—É –≤ —Å–ø–∏—Å–∫–µ:

| –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω | –ë–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ | –ü—Ä–∏–º–µ—Ä |
|-------------------|----------------|---------|
| **MOEX** | RUB (—Ä—É–±–ª–∏) | `SBER.MOEX` ‚Üí RUB |
| **US** | USD (–¥–æ–ª–ª–∞—Ä—ã) | `SPY.US` ‚Üí USD |
| **LSE** | GBP (—Ñ—É–Ω—Ç—ã) | `VOD.LSE` ‚Üí GBP |
| **FX, COMM, INDX** | USD (–¥–æ–ª–ª–∞—Ä—ã) | `GC.COMM` ‚Üí USD |
| **–û—Å—Ç–∞–ª—å–Ω—ã–µ** | USD (–¥–æ–ª–ª–∞—Ä—ã) | `UNKNOWN` ‚Üí USD |

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å
```
/compare —Å–∏–º–≤–æ–ª1 —Å–∏–º–≤–æ–ª2 —Å–∏–º–≤–æ–ª3 ...
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `/compare SPY.US QQQ.US` - —Å—Ä–∞–≤–Ω–∏—Ç—å S&P 500 –∏ NASDAQ (–≤ USD)
- `/compare SBER.MOEX GAZP.MOEX` - —Å—Ä–∞–≤–Ω–∏—Ç—å –°–±–µ—Ä–±–∞–Ω–∫ –∏ –ì–∞–∑–ø—Ä–æ–º (–≤ RUB)
- `/compare GC.COMM CL.COMM` - —Å—Ä–∞–≤–Ω–∏—Ç—å –∑–æ–ª–æ—Ç–æ –∏ –Ω–µ—Ñ—Ç—å (–≤ USD)
- `/compare VOO.US BND.US GC.COMM` - —Å—Ä–∞–≤–Ω–∏—Ç—å –∞–∫—Ü–∏–∏, –æ–±–ª–∏–≥–∞—Ü–∏–∏ –∏ –∑–æ–ª–æ—Ç–æ (–≤ USD)
- `/compare VOD.LSE HSBA.LSE` - —Å—Ä–∞–≤–Ω–∏—Ç—å –∞–∫—Ü–∏–∏ LSE (–≤ GBP)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
1. **`compare_command()`** - –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã
2. **–û–±–Ω–æ–≤–ª–µ–Ω `run()`** - –¥–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è `/compare`
3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–ø—Ä–∞–≤–∫–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥–µ

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **okama** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `AssetList` –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **matplotlib** - –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **pandas** - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –≤–∞–ª—é—Ç—ã** –ø–æ –ø–µ—Ä–≤–æ–º—É –∞–∫—Ç–∏–≤—É –≤ —Å–ø–∏—Å–∫–µ
- **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–∞–ª—é—Ç**: MOEX ‚Üí RUB, US ‚Üí USD, LSE ‚Üí GBP, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí USD
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –º–∏–Ω–∏–º—É–º 2, –º–∞–∫—Å–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤
- **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤** —Å —Ä—É—Å—Å–∫–∏–º–∏ –ø–æ–¥–ø–∏—Å—è–º–∏ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–∞–ª—é—Ç–æ–π
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –æ —Ç–æ–º, –∫–∞–∫ –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–∞–ª—é—Ç–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `bot.py` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `compare_command()` –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–ø—Ä–∞–≤–∫–∏
- –ö–æ–º–∞–Ω–¥–∞ `/start` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ `/compare`
- –ö–æ–º–∞–Ω–¥–∞ `/help` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ `/compare`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º–≤–æ–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤
- Fallback —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

### –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç
```
üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤: SPY.US, QQQ.US

üí∞ –ë–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞: USD (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ –ø–µ—Ä–≤–æ–º—É –∞–∫—Ç–∏–≤—É (SPY.US))
üìÖ –ü–µ—Ä–∏–æ–¥: 1999-04-01 - 2025-07-01
‚è±Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 26.3

üìã –ù–∞–∑–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤:
‚Ä¢ SPY.US - SPDR S&P 500 ETF Trust
‚Ä¢ QQQ.US - Invesco QQQ Trust

üìà –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (USD):
‚Ä¢ SPY.US: 4.85
‚Ä¢ QQQ.US: 8.92
```

**–ü—Ä–∏–º–µ—Ä —Å MOEX –∞–∫—Ç–∏–≤–∞–º–∏:**
```
üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤: SBER.MOEX, GAZP.MOEX

üí∞ –ë–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞: RUB (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ –ø–µ—Ä–≤–æ–º—É –∞–∫—Ç–∏–≤—É (SBER.MOEX))
üìÖ –ü–µ—Ä–∏–æ–¥: 2010-01-01 - 2025-07-01
‚è±Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 15.5

üìã –ù–∞–∑–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤:
‚Ä¢ SBER.MOEX - –°–±–µ—Ä–±–∞–Ω–∫ –†–æ—Å—Å–∏–∏
‚Ä¢ GAZP.MOEX - –ì–∞–∑–ø—Ä–æ–º

üìà –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (RUB):
‚Ä¢ SBER.MOEX: 2.34
‚Ä¢ GAZP.MOEX: 1.87
```

### –ì—Ä–∞—Ñ–∏–∫
- –ì—Ä–∞—Ñ–∏–∫ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–æ–≤
- –ü–æ–¥–ø–∏—Å–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –°–µ—Ç–∫–∞ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –õ–µ–≥–µ–Ω–¥–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∞–∫—Ç–∏–≤–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ AssetList —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –∞–∫—Ç–∏–≤–æ–≤
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- Python 3.7+
- okama –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- matplotlib
- python-telegram-bot

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
1. –í–≤–µ–¥–∏—Ç–µ `/compare` –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏
2. –£–∫–∞–∂–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã –∞–∫—Ç–∏–≤–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª
3. –ü–æ–ª—É—á–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫ –∏ –∞–Ω–∞–ª–∏–∑

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ú–µ—Ç–æ–¥ `compare_command()` –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- –í–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –º–µ—Ç—Ä–∏–∫–∞–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–≤–æ–¥–æ–≤

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ö–æ–º–∞–Ω–¥–∞ `/compare` —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±–æ—Ç–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏. 

### üÜï –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã** –ø–æ –ø–µ—Ä–≤–æ–º—É –∞–∫—Ç–∏–≤—É –≤ —Å–ø–∏—Å–∫–µ
- **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–∞–ª—é—Ç** –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∏—Ä–∂ –∏ —Ç–∏–ø–æ–≤ –∞–∫—Ç–∏–≤–æ–≤
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –æ —Ç–æ–º, –∫–∞–∫ –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤–∞–ª—é—Ç–∞
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–µ–¥—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∫–æ–¥–∞ –∏ –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫. –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤—ã –≤ –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –≤–∞–ª—é—Ç–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –µ—ë –≤—Ä—É—á–Ω—É—é.
