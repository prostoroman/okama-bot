# –û—Ç—á–µ—Ç –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–Ω–æ–ø–æ–∫ Monte Carlo –∏ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏

## –î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
2025-01-27

## –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `/portfolio`:

1. **üé≤ Monte Carlo** - –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–∞ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
2. **üìà –ü—Ä–æ–≥–Ω–æ–∑ %** - –ø—Ä–æ–≥–Ω–æ–∑ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏ (10%, 50%, 90%)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ –∫–æ–º–∞–Ω–¥–µ portfolio

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 1570-1575

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
```python
# Add risk metrics, Monte Carlo, and forecast buttons
keyboard = [
    [
        InlineKeyboardButton("üìä –†–∏—Å–∫ –º–µ—Ç—Ä–∏–∫–∏", callback_data=f"risk_metrics_{','.join(symbols)}"),
        InlineKeyboardButton("üé≤ Monte Carlo", callback_data=f"monte_carlo_{','.join(symbols)}")
    ],
    [
        InlineKeyboardButton("üìà –ü—Ä–æ–≥–Ω–æ–∑ %", callback_data=f"monte_carlo_{','.join(symbols)}")
    ]
]
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ button_callback

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 1835-1845

**–î–æ–±–∞–≤–ª–µ–Ω–æ**:
```python
elif callback_data.startswith('monte_carlo_'):
    symbols = callback_data.replace('monte_carlo_', '').split(',')
    self.logger.info(f"Monte Carlo button clicked for symbols: {symbols}")
    self.logger.info(f"Callback data: {callback_data}")
    self.logger.info(f"Extracted symbols: {symbols}")
    await self._handle_monte_carlo_button(update, context, symbols)
elif callback_data.startswith('forecast_'):
    symbols = callback_data.replace('forecast_', '').split(',')
    self.logger.info(f"Forecast button clicked for symbols: {symbols}")
    self.logger.info(f"Callback data: {callback_data}")
    self.logger.info(f"Extracted symbols: {symbols}")
    await self._handle_forecast_button(update, context, symbols)
```

### 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ _handle_monte_carlo_button

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 2330-2360

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–∏—Å–∫ —Å–∏–º–≤–æ–ª–æ–≤ –≤ `current_symbols` –∏–ª–∏ `last_assets`
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ Portfolio
- –í—ã–∑–æ–≤ `_create_monte_carlo_forecast`

**–õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤**:
```python
# Try to get symbols from different possible keys
symbols = None
self.logger.info(f"Available keys in user context: {list(user_context.keys())}")

if 'current_symbols' in user_context:
    symbols = user_context['current_symbols']
    self.logger.info(f"Found symbols in current_symbols: {symbols}")
elif 'last_assets' in user_context:
    symbols = user_context['last_assets']
    self.logger.info(f"Found symbols in last_assets: {symbols}")
else:
    self.logger.warning(f"Neither current_symbols nor last_assets found in user context")
    self.logger.warning(f"Available keys: {list(user_context.keys())}")
    await self._send_callback_message(update, context, "‚ùå –î–∞–Ω–Ω—ã–µ –æ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É /portfolio –∑–∞–Ω–æ–≤–æ.")
    return
```

### 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ _handle_forecast_button

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 2362-2392

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Monte Carlo, –Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç `_create_forecast_chart`
- –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏

### 5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ _create_monte_carlo_forecast

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 2394-2430

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `portfolio.plot_forecast_monte_carlo(distr="norm", years=5, n=20)`
- –°–æ–∑–¥–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ —Å 20 —Å–∏–º—É–ª—è—Ü–∏—è–º–∏ –Ω–∞ 5 –ª–µ—Ç
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ –∏–∑ `chart_styles`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥—Ä–∞—Ñ–∏–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `distr="norm"` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- `years=5` - –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≥–Ω–æ–∑–∞ 5 –ª–µ—Ç
- `n=20` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π

**–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞**:
```
üé≤ –ü—Ä–æ–≥–Ω–æ–∑ Monte Carlo –¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª—è: [—Å–∏–º–≤–æ–ª—ã]

üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
‚Ä¢ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ (norm)
‚Ä¢ –ü–µ—Ä–∏–æ–¥: 5 –ª–µ—Ç
‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π: 20
‚Ä¢ –í–∞–ª—é—Ç–∞: [–≤–∞–ª—é—Ç–∞]

üí° –ì—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Ä–æ—Å—Ç–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏.
```

### 6. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ _create_forecast_chart

**–§–∞–π–ª**: `bot.py`  
**–°—Ç—Ä–æ–∫–∏**: 2432-2468

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `portfolio.plot_forecast(years=5, today_value=1000, percentiles=[10, 50, 90])`
- –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ —Å —Ç—Ä–µ–º—è –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π, —Å—Ä–µ–¥–Ω–∏–π –∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `years=5` - –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≥–Ω–æ–∑–∞ 5 –ª–µ—Ç
- `today_value=1000` - –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å 1000 –µ–¥–∏–Ω–∏—Ü –≤–∞–ª—é—Ç—ã
- `percentiles=[10, 50, 90]` - –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

**–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞**:
```
üìà –ü—Ä–æ–≥–Ω–æ–∑ —Å –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏ –¥–ª—è –ø–æ—Ä—Ç—Ñ–µ–ª—è: [—Å–∏–º–≤–æ–ª—ã]

üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
‚Ä¢ –ü–µ—Ä–∏–æ–¥: 5 –ª–µ—Ç
‚Ä¢ –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 1000 [–≤–∞–ª—é—Ç–∞]
‚Ä¢ –ü–µ—Ä—Ü–µ–Ω—Ç–∏–ª–∏: 10%, 50%, 90%

üí° –ì—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
‚Ä¢ 10% –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å: –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
‚Ä¢ 50% –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å: —Å—Ä–µ–¥–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π
‚Ä¢ 90% –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å: –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ chart_styles
- –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–∑ –º–æ–¥—É–ª—è `chart_styles`
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π —Å—Ç–∏–ª—å: `chart_styles.apply_base_style(fig)`
- –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏: `plt.close(current_fig)`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –±–ª–æ–∫–∏ `try-except`
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å traceback
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è
```
/portfolio SBER.MOEX:0.4 GAZP.MOEX:0.3 LKOH.MOEX:0.3
```

### 2. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è
- **üìä –†–∏—Å–∫ –º–µ—Ç—Ä–∏–∫–∏** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤
- **üé≤ Monte Carlo** - –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∏–º—É–ª—è—Ü–∏–π
- **üìà –ü—Ä–æ–≥–Ω–æ–∑ %** - –ø—Ä–æ–≥–Ω–æ–∑ —Å –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏

### 3. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—å –∫–æ–º–∞–Ω–¥–æ–π `/portfolio`
2. –ë–æ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–∂–∞—Ç—å –ª—é–±—É—é –∏–∑ –∫–Ω–æ–ø–æ–∫ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
4. –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –≥—Ä–∞—Ñ–∏–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `okama` - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- `matplotlib.pyplot` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- `io.BytesIO` - –¥–ª—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `chart_styles` - –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Å—Ç–∏–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Monte Carlo**: 20 —Å–∏–º—É–ª—è—Ü–∏–π –Ω–∞ 5 –ª–µ—Ç —Å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
- **–ü—Ä–æ–≥–Ω–æ–∑**: 5 –ª–µ—Ç, –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å 1000, –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–∏ [10, 50, 90]

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–º—è—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ matplotlib —Ñ–∏–≥—É—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è
```bash
python3 -m py_compile bot.py
```
‚úÖ –§–∞–π–ª –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ button_callback
- ‚úÖ –ú–µ—Ç–æ–¥—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–Ω–æ–ø–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ú–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞ (1, 3, 5, 10 –ª–µ—Ç)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π
- –í—ã–±–æ—Ä —Ç–∏–ø–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (norm, lognorm, historical)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª–µ–π

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- –ü—Ä–æ–≥–Ω–æ–∑ —Å —É—á–µ—Ç–æ–º –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏
- –°—Ü–µ–Ω–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –ê–Ω–∞–ª–∏–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `/portfolio`:

1. **üé≤ Monte Carlo** - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–∞ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å 20 —Å–∏–º—É–ª—è—Ü–∏—è–º–∏ –Ω–∞ 5 –ª–µ—Ç
2. **üìà –ü—Ä–æ–≥–Ω–æ–∑ %** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ —Å —Ç—Ä–µ–º—è –∫–ª—é—á–µ–≤—ã–º–∏ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—è–º–∏ (10%, 50%, 90%)

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫. –ö–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ç–µ–º –∂–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—Ç—Ñ–µ–ª—è:
- üìä –†–∏—Å–∫ –º–µ—Ç—Ä–∏–∫–∏ - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–∏—Å–∫–∏
- üé≤ Monte Carlo - –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è
- üìà –ü—Ä–æ–≥–Ω–æ–∑ % - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã —Ä–æ—Å—Ç–∞

üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
